{"version":3,"sources":["webpack:///base/webpack/universalModuleDefinition","webpack:///base/scripts/main.js","webpack:///base/webpack/bootstrap 20a64e2265f577734ba1","webpack:///base/./scripts/main.js","webpack:///base/./scripts/config.js","webpack:///base/external \"jquery\"","webpack:///base/external \"angular\"","webpack:///base/./scripts/modules/utils/main.js","webpack:///base/external \"lodash\"","webpack:///base/./scripts/modules/utils/is.js","webpack:///base/./scripts/modules/utils/portal.js","webpack:///base/./scripts/modules/utils/migrate.js","webpack:///base/./scripts/modules/bus/main.js","webpack:///base/./scripts/modules/async/Promise.js","webpack:///base/./scripts/modules/async/fetch.js","webpack:///base/./scripts/modules/log/main.js","webpack:///base/./scripts/modules/error/main.js","webpack:///base/./scripts/modules/queue/main.js","webpack:///base/./scripts/modules/notifications/main.js","webpack:///base/./scripts/modules/notifications/network.js","webpack:///base/./scripts/modules/notifications/user-activity.js","webpack:///base/./scripts/modules/b$-extension/widget.js","webpack:///base/./scripts/modules/portal/portal.js","webpack:///base/./scripts/libs/start-portal.js","webpack:///base/./scripts/modules/session/session-handler.js","webpack:///base/./scripts/modules/session/session-notifications.js","webpack:///base/./scripts/modules/b$-extension/preferences-form.js","webpack:///base/./scripts/libs/get-widgets-info.js","webpack:///base/./scripts/libs/create-module.js","webpack:///base/./scripts/modules/performance/performance.js","webpack:///base/./scripts/require-widget.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_6__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_RESULT__","config","global","window","NS","$","ng","angular","utils","bus","Promise","fetch","log","error","queue","notification","Widget","portal","startPortal","getWidgetsInfo","createModule","performance","requireWidget","bootstrap","el","deps","inject","lib","moduleName","isEmpty","push","injector","get","undefined","_","noConflict","mixin","isMobileDevice","mobileSDK","deviceTypes","i","l","length","navigator","userAgent","match","isb$Mocked","b$","isUndefined","Boolean","isMocked","bdom","resolvePortalPlaceholders","string","replaceWith","isString","replacements","reduce","str","replace","deprecate","fn","tpl","data","warn","msg","compiled","template","console","warning","warned","isObject","deprecated","apply","arguments","NODEP","launchpad","usemin","gadgets","pubsub","publish","subscribe","$q","P","extend","resolver","deferred","defer","resolve","reject","promise","when","_typeof","Symbol","iterator","obj","constructor","xsrf","getToken","value","document","cookie","parts","getCookieName","split","token","pop","shift","cookieName","getRequestHeaderName","requestHeaderName","http","url","options","method","toUpperCase","headers","responseHeaders","cache-control","captureException","createException","name","ErrorException","message","prototype","Error","filterByContext","contextId","index","keep","splice","dequeue","allTasks","filteredQueue","all","service","__onPushCallbacks","__runPushCallbacks","context","retryObject","forEach","callback","retryFunction","retry","then","cancel","hasMore","onPush","network","userActivity","handleOffline","merge","container","level","closable","handleOnline","events","offline","online","on","notifyOnActivity","getNamespace","BackbaseWidget","getClass","createDisplay","forceDisplay","_displayed","postponeDisplay","bd","designMode","parentNode","tagName","getPreference","indexOf","superClass","getPreferenceFromParents","node","val","Session","preferencesForm","notifications","parseXml","xml","oldXmlParser","be","xmlToJson","portalDomModel","page","portalView","getElementsByTagName","initSession","portalPref","logoutUrl","serverRoot","portalName","redirectUrl","defaultLandingPage","sessionUrl","sessionEndpoint","pingUrl","sessionValidateEndpoint","startCountdown","startCountdownAt","pingInterval","sessionCheckInterval","notifyAfterTimeoutDuration","userLoggedIn","loggedInUserId","JSON","parse","getInstance","init","getPortalPreferences","join","transformResponse","parseXML","jsonData","chain","properties","mapValues","mapKeys","v","k","camelCase","assign","responseType","response","addCustomChromes","uiConf","uiEditingOptions","chromes","widgetPreferenceSelections","widgetChrome","formHeaders","Accept","Content-Type","SessionHandler","defaults","sessionStorage","store","isPollingStarted","hasSession","updateEstimatedTime","time","cb","instance","countdownInterval","keepAlive","notifyAfterInterval","sessionExpiredKey","maxConsecutiveFailCount","validSessionExisted","userEventsOccurred","consecutiveFailCount","afterTimeout","startPolling","self","clearSessionWarning","interval","setTimeout","ping","bind","reconfirm","makeSessionRequest","handleStateResponse","handleNetworkError","dataFreshness","checkBages","clearOfflineWarning","remaining","remainingTime","startSessionWarning","logError","status","clear","setItem","logout","statusText","offlineWarning","parseInt","location","href","estimatedSecondsLeft","sessionWarning","setInterval","reconfirmSession","stopPinging","clearInterval","removeNotification","flagName","hasOwnProperty","estimatedTime","timeLeft","values","secondsLeft","links","rel","uri","hash","getItem","removeItem","isChromesPref","pref","inputType","handlers","preferences-form","ev","widget","detail","prefs","portalModel","filterPreferences","model","preferences","array","customPrefsModel","each","collectWidgets","rootNode","childWidgets","widgets","key","concat","childNodes","children","child","tag","extendedItemName","version","src","originalItem","uniq","sortBy","widgetsList","promises","map","item","table","moduleRegistered","e","ngModule","templatesModuleName","$templateCache","lpCoreTemplate","put","resolvePath","getPayload","payload","operation","sender","tags","stringify","DEFAULT_EVENTS","start","end","params","trim","String","rtrim","isFunction","func","Array","isAngularObject","normalizePath","rootPath","staticPath","path","isAbsolute","RegExp","test","err","addClass","className","classList","add","removeClass","remove","addLoadingClass","widgetInstance","widgetLoadingClass","body","loading","doneClass","enableXsrfTokenInterceptor","app","addXsrfHeader","xhrOptions","$httpProvider","interceptors","request","enableXsrfTokenPrefilter","jQuery","ajaxPrefilter","original","xhr","type","setRequestHeader","getFieldName","modulePath","requirejs","myDef","myDefinition","sUrl","s","contexts","baseUrl","widgetModule","lpCoreWidgetProvider","lpCoreI18nProvider","lpCoreTemplateProvider","useWidgetInstance","run","querySelectorAll"],"mappings":";CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,UAAAA,QAAA,WAAAA,QAAA,WACA,kBAAAC,gBAAAC,IACAD,QAAA,6BAAAJ,GACA,gBAAAC,SACAA,QAAA,KAAAD,EAAAG,QAAA,UAAAA,QAAA,WAAAA,QAAA,WAEAJ,EAAA,KAAAC,EAAAD,EAAA,OAAAA,EAAA,QAAAA,EAAA,SACCO,KAAA,SAAAC,EAAAC,EAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAX,OAGA,IAAAC,GAAAW,EAAAD,IACAX,WACAa,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAd,EAAAD,QAAAC,IAAAD,QAAAU,GAGAT,EAAAa,QAAA,EAGAb,EAAAD,QAvBA,GAAAY,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAAST,EAAQD,QAASU,GAE/BT,EAAOD,QAAUU,EAAoB,IAKhC,SAAST,EAAQD,QAASU,GAE/B,GAAIS,EEtDLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAEA,IAAImB,GAASV,EAAQ,GACjBW,EAASC,OACTC,EAAKH,EAAOG,EANsBF,GAQ/BE,GAAMF,EAAOE,OARkBvB,QAY9BuB,GAAKA,EAZyBvB,QAgB9BwB,EAAId,EAAQ,GAhBkBA,EAiB9B,GAjB8BV,QAkB9ByB,GAAKH,OAAOI,QAlBkB1B,QAuB9B2B,MAAQjB,EAAQ,GAvBcV,QAwB9B4B,IAAMlB,EAAQ,IACtBV,QAAQ6B,QAAUnB,EAAQ,IAC1BV,QAAQ8B,MAAQpB,EAAQ,IACxBV,QAAQ+B,IAAMrB,EAAQ,IACtBV,QAAQgC,MAAQtB,EAAQ,IACxBV,QAAQiC,MAAQvB,EAAQ,IACxBV,QAAQkC,aAAexB,EAAQ,IA9BOV,QAmC9BmC,OAASzB,EAAQ,IACzBV,QAAQoC,OAAS1B,EAAQ,IApCaV,QAyC9BqC,YAAc3B,EAAQ,IAC9BV,QAAQsC,eAAiB5B,EAAQ,IACjCV,QAAQuC,aAAe7B,EAAQ,IAC/BV,QAAQwC,YAAc9B,EAAQ,IA5CQV,QAiD9ByC,cAAgBpB,EAAOoB,eAAiB/B,EAAQ,IAjDlBV,QAgE9B0C,UAAY,SAASC,EAAIC,GAC7B,MAAO5C,SAAQyB,GAAGiB,UAAUC,EAAIC,IAjEE5C,QA+E9B6C,OAAS,SAASC,EAAKC,GAC3B,GAAIH,IAAQ,KAKZ,OAJI5C,SAAQ2B,MAAMqB,QAAQD,IAEtBH,EAAKK,KAAKF,GAEP/C,QAAQyB,GAAGyB,SAASN,GAAMO,IAAIL,KArFtC/B,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KF4JD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EGhKLA,GAAO,SAASjB,QAASF,QAASC,GAC9B,YAEAD,SAAQuB,GAAK,aAHVR,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KHkLD,SAASlB,EAAQD,SIzLvBC,EAAAD,QAAAM,GJ+LM,SAASL,EAAQD,SK/LvBC,EAAAD,QAAAO,GLqMM,SAASN,EAAQD,QAASU,GAE/B,GAAIS,EMvMLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAEA,IAAIoD,GAAI3C,EAAQ,GAAU4C,YAE1BD,GAAEE,MAAM7C,EAAQ,IAChB2C,EAAEE,MAAM7C,EAAQ,IAChB2C,EAAEE,MAAM7C,EAAQ,IARsBT,EAW/BD,QAAUqD,GAXdtC,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KNyND,SAASlB,EAAQD,SOzNvBC,EAAAD,QAAAQ,GP+NM,SAASP,EAAQD,QAASU,GAE/B,GAAIS,EQxNLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAEA,IAAIoD,GAAI3C,EAAQ,GACZa,EAAKb,EAAQ,GAAgBa,GAC7BF,EAASC,MANyBtB,SAW9BwD,eAAiB,WAErB,GAAInC,EAAOE,GAAIkC,UACX,OAAO,CAYX,KAAK,GATDC,IACA,oBACA,WACA,cACA,cACA,YACA,UAGKC,EAAI,EAAGC,EAAIF,EAAYG,OAAYD,EAAJD,EAAOA,IAC3C,GAAIG,UAAUC,UAAUC,MAAMN,EAAYC,IACtC,OAAO,CAIf,QAAO,GAhC2B3D,QAwC9BiE,WAAa,WACjB,GAAIC,GAAK7C,EAAO6C,EAChB,OAAOb,GAAEc,YAAYD,IACVE,QAAQF,EAAGG,aAAc,GACzBhB,EAAEc,YAAYD,EAAGI,QA5C7BvD,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KR4QD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,ESvRLA,GAAO,SAASjB,QAASF,QAASC,GAC9B,YAEA,IAAIoD,GAAI3C,EAAQ,EAHsBV,SAa9BuE,0BAA4B,SAASC,GACzC,GAAIC,GAAcpB,EAAEF,IAAI7B,OAAQ,8BAA+B,GAC/D,IAAK+B,EAAEqB,SAASF,GAAU,CACtB,GAAIG,IACA,iBACA,iBACA,kBAEJH,GAASnB,EAAEuB,OAAOD,EAAc,SAASE,EAAKC,GAC1C,MAAOD,GAAIC,QAAQA,EAASL,IAC7BD,GAEP,MAAOA,KAzBRzD,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KToTD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EUtTJA,GAAO,SAASjB,QAASF,QAASC,GAE/B,YAEA,IAAIoD,GAAI3C,EAAQ,EAJuBV,SAU/B+E,UAAY,SAASC,EAAIC,EAAKC,GASlC,QAASC,GAAKC,GACV,GAAIC,GAAWhC,EAAEiC,SAASF,GACtBnE,EAAIK,OAAOiE,QACXC,EAAUH,EAASH,IAElBO,GAAUpC,EAAEqC,SAASzE,KACtBA,EAAEkE,KAAKK,GACPC,GAAS,GAIjB,QAASE,KAEL,MADAR,GAAKF,GACED,EAAGY,MAAMvF,KAAMwF,WApB1B,GAAIC,GAAQxE,OAAOyE,WAAazE,OAAOyE,UAAU3E,QAAUE,OAAOyE,UAAU3E,OAAO4E,MACnF,IAAIF,EACA,MAAOd,EAGX,IAAIS,IAAS,CAkBb,OAAOpC,GAAGqB,SAASM,KAAQc,EAASX,EAAKH,GAAMW,IAnC/C5E,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KViWF,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EW1VLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAIAA,GAAOD,QAAUsB,OAAO2E,SAAW3E,OAAO2E,QAAQC,SAC9CC,QAAS,aACTC,UAAW,eARZrF,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KXoXD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EYtXLA,GAAO,SAASjB,QAASF,QAASC,GAC9B,YAEAS,GAAQ,EAH8B,IAIlCgB,GAAUJ,OAAOI,OAJiBzB,GAQ/BD,QAAUsB,OAAOO,SAAW,SAASwE,GACpC,GAAIC,GAAI5E,EAAQ6E,OAAO,SAASC,GAC5B,GAAIC,GAAWJ,EAAGK,OAElB,OADAF,GAASC,EAASE,QAASF,EAASG,QAC7BH,EAASI,SACjBR,EAMH,OAJAC,GAAEK,QAAU,SAASzB,GACjB,MAAOmB,GAAGS,KAAK5B,IAGZoB,GACT5E,EAAQwB,UAAU,OAAOC,IAAI,QApBhCpC,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KZ0ZD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,GAEA4F,EAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIC,cAAgBH,OAAS,eAAkBE,Ga9Z3O/F,GAAO,SAASjB,QAASF,QAASC,GAC9B,YAEAS,GAAQ,EAH8B,IAIlCgB,GAAUJ,OAAOI,QACjB0F,EAAQ,WASR,QAASC,KACL,GAAIC,GAAQ,KAAOC,SAASC,OACxBC,EAAQ,GACRD,EAASE,GAGb,IADAD,EAAQH,EAAMK,MAAM,KAAOH,EAAS,KAChB,GAAhBC,EAAM5D,OAAa,CACnB,GAAI+D,GAAQH,EAAMI,MAAMF,MAAM,KAAKG,OACnC,OAAOF,IAKf,QAASF,KACL,MAAOK,GAGX,QAASC,KACL,MAAOC,GA1BX,GAAIA,GAAoB,WACpBF,EAAa,QAEjB,QACIV,SAAUA,EACVW,qBAAsBA,KAXQ/H,GAwC/BD,QAAU,SAAUkI,GACvB,MAAO,UAASC,EAAKC,GAOjB,MANAA,IAA0B,YAAR,mBAAAD,GAAA,YAAApB,EAAAoB,IAAmBA,EAAMC,OACvCA,EAAQhB,QAAS,GAASgB,EAAQC,QAA2C,QAAjCD,EAAQC,OAAOC,gBAC3DF,EAAQG,QAAUH,EAAQG,YAC1BH,EAAQG,QAAQnB,EAAKY,wBAA0BZ,EAAKC,YAGjDa,EAAKxG,EAAQ6E,QAChB4B,IAAKA,EACLE,OAAQ,MACRG,iBACIC,gBAAiB,aAEtBL,MAER1G,EAAQwB,UAAU,OAAOC,IAAI,WAxD7BpC,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KbqeD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EcveLA,GAAO,SAASjB,QAASF,QAASC,GAC9B,YAEAS,GAAQ,EAH8B,IAIlCgB,GAAUJ,OAAOI,OAJiBzB,GAQ/BD,QAAU0B,EAAQwB,UAAU,OAAOC,IAAI,SAR3CpC,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,Kd+fD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EejgBLA,GAAO,SAASjB,QAASF,QAASC,GAC9B,YAKAD,SAAQ0I,iBAAmB,SAAU1G,EAAOoG,KANNpI,QAc9B2I,gBAAkB,SAASC,GAC/B,QAASC,GAAeC,GACpBzI,KAAKuI,KAAOA,GAAQ,QACpBvI,KAAKyI,QAAUA,GAAW,kBAM9B,MAHAD,GAAeE,UAAY,GAAIC,OAC/BH,EAAeE,UAAU5B,YAAc0B,EAEhCA,IAvBR9H,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KfwiBD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EgBziBLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAWA,SAASgJ,GAAgBC,GAGrB,IAFA,GAAIC,GAAQ,EACRC,KACED,EAAQlH,EAAM4B,QACZ5B,EAAMkH,GAAOD,YAAcA,EAC3BE,EAAKnG,KAAKhB,EAAMoH,OAAOF,EAAO,GAAG,IAEjCA,GAGR,OAAOC,GAvB2B,QAgC7BE,GAAQjB,EAAQa,GAErB,GAAIK,MACAC,EAAgBN,EAAYD,EAAgBC,GAAajH,CAH7B,IAQjB,UAAXoG,EACAmB,EAAc3F,OAAS,MAEvB,MAAO2F,EAAc3F,QACjB0F,EAAStG,KAAKuG,EAAc1B,QAAQO,KAI5C,OAAOxG,GAAQ4H,IAAIF,GA5CvB,GAAI1H,GAAUnB,EAAQ,IAElBgJ,GACAC,sBAEA1H,IAEJyH,GAAQzH,MAAQA,EAwChByH,EAAQE,mBAAqB,SAASC,EAASC,GAC3CJ,EAAQC,kBAAkBI,QAAQ,SAASC,GACvCA,EAASH,EAASC,MAI1BJ,EAAQzG,KAAO,SAAS4G,EAASI,GAE7B,MAAO,IAAIpI,GAAQ,SAAS8E,EAASC,GAGjC,GAAIkD,IACAZ,UAAWW,EAAQX,UACnBgB,MAAO,WACH,MAAOrI,GAAQ8E,QAAQsD,KAAiBE,KAAKxD,EAASC,IAE1DwD,OAAQxD,EAR6B3E,GAYnCgB,KAAK6G,GACXJ,EAAQE,mBAAmBC,EAASC,MAI5CJ,EAAQW,QAAU,WACd,MAAOpI,GAAM4B,OAAS,GAG1B6F,EAAQY,OAAS,SAASN,GACtBN,EAAQC,kBAAkB1G,KAAK+G,IAjFGN,EAwF9BQ,MAAQ,SAASJ,GACrB,MAAOA,GAAYI,QAAQC,KAAK,WAC5B,MAAOb,GAAQ,QAASQ,EAAYZ,cA1FNQ,EAkG9BU,OAAS,SAASN,GACtB,MAAOR,GAAQ,SAAUQ,EAAYZ,YAGzCjJ,EAAOD,QAAU0J,GAtGd3I,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KhBgqBD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EiBjqBLA,GAAO,SAASjB,QAASF,QAASC,GAC9B,YAGAD,SAAQuK,QAAU7J,EAAQ,IAJYV,QAM9BwK,aAAe9J,EAAQ,KAN5BK,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KjB0rBD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EkB9rBLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAYA,SAASwK,GAAcvF,GACnBtD,EAAIuE,QAAQ,6BAA8BxE,EAAM+I,OAC5CxI,cACIyI,WACIrF,SAAU,0BAEdzE,GAAI,uBACJ+J,MAAO,OACP9B,QAAS,oCACT+B,UAAU,IAEf3F,IAGP,QAAS4F,KACLlJ,EAAIuE,QAAQ,iCACRjE,cACIrB,GAAI,0BA3BhB,GAAIW,GAAId,EAAQ,GACZa,EAAKb,EAAQ,GAAgBa,GAC7BK,EAAMlB,EAAQ,IACdiB,EAAQjB,EAAQ,GAChBqK,GACAC,QAASzJ,EAAK,mBACd0J,OAAQ1J,EAAK,kBAVqBtB,GAwC/BD,QAAU,WAKbwB,EAAEF,QACG4J,GAAG,UAAWT,GACdS,GAAG,SAAUJ,GAPMlJ,EAYpBwE,UAAU2E,EAAOC,QAASP,GAC9B7I,EAAIwE,UAAU2E,EAAOE,OAAQH,KArD9B/J,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KlBiwBD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EmBnwBLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YASA,SAASkL,KACLvJ,EAAIuE,QAAQ4E,EAAOP,cARvB,GAAIhJ,GAAId,EAAQ,GACZa,EAAKb,EAAQ,GAAgBa,GAC7BK,EAAMlB,EAAQ,IACdqK,GACAP,aAAcjJ,EAAK,iBARetB,GAmB/BD,QAAU,WACbwB,EAAE+F,UAAU2D,GAAG,iBAAkBC,KApBlCpK,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KnBwyBD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EoBxyBLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YACA,IAAI0B,GAAQjB,EAAQ,GAChBW,EAASC,MACJD,GAAO6C,EAEhB,IAAIvC,EAAMsC,aAAiB,OAAO,CAPI,IASlC1C,GAAKF,EAAO6C,GAAGI,KAAK8G,aAAa,uCACjCC,EAAiBpL,EAAOD,QAAUuB,EAAG+J,SAAS,iBAVZD,GAiBvBtC,UAAUwC,cAAgB,SAASC,GAE9CnL,KAAKoL,WAAapL,KAAKoL,YAAcD,CAFuB,IAKxDE,IACCC,GAAGC,aACHvL,KAAKoL,YACsB,sBAA5BpL,KAAKwL,WAAWC,UACgB,MAA/BzL,KAAK0L,cAAc,SAAkD,MAA/B1L,KAAK0L,cAAc,UAC1D1L,KAAK0L,cAAc,gBAAgBC,QAAQ,cAAgB,EAE3DN,KACArL,KAAKoL,YAAa,EAClBpL,KAAK8G,YAAY8E,WAAWlD,UAAUwC,cAAcxK,KAAKV,QAIjEgL,EAAetC,UAAUmD,yBAA2B,SAAStD,GAEzD,GAAImD,GAAgB,QAAhBA,GAAyBnD,EAAMuD,GAC/B,GAAIC,EAOJ,OANGD,GAAKJ,eAAkC,gBAAjBI,EAAKL,UAC1BM,EAAMD,EAAKJ,cAAcnD,IACrBwD,GAAOD,EAAKN,aACZO,EAAML,EAAcnD,EAAMuD,EAAKN,cAGhCO,EAGX,OAAOL,GAAcnD,EAAMvI,QAhD5BU,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KpB62BD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EqB13BLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAEAA,GAAOD,QAAU,cAJde,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KrBq4BD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EsBz3BLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAEA,IAAI0B,GAAQjB,EAAQ,GAChBoB,EAAQpB,EAAQ,IAChB2L,EAAU3L,EAAQ,IAClByB,EAASzB,EAAQ,IACjB4L,EAAkB5L,EAAQ,IAC1B6L,EAAgB7L,EAAQ,IACxBc,EAAId,EAAQ,GAGZ8L,EAAW,SAASC,GACpB,GAAIC,GAAepL,OAAOqL,IAAMrL,OAAOqL,GAAGC,SAC1C,OAAOF,IAAcD,IAAKA,IAfQxM,GAwBhCD,QAAU,SAAqB6M,EAAgBzK,GAGjD,GAAI0K,GAAO1K,EAAO2K,WAAWC,qBAAqB,QAAQ,GACtDC,EAAc,SAASC,GACvB,GAAI9E,IACA+E,UAAWD,EAAWE,WAAa,wCAA0ChL,EAAOiL,WACpFC,YAAaJ,EAAWE,WAAaF,EAAWK,mBAChDC,WAAYN,EAAWO,gBACvBC,QAASR,EAAWS,wBACpBC,eAAgBV,EAAWW,iBAC3BC,aAAcZ,EAAWa,qBACzBC,2BAA4Bd,EAAWc,2BACvCC,eAAgB7L,EAAO8L,eAExBC,MAAKC,MAAMtB,EAAKf,cAAc,mBAAoB,KACjDQ,EAAc/B,eACd6B,EAAQgC,YAAYjG,GAASkG,SASjCC,EAAuB,WACvB,GAAIpG,IAAQ/F,EAAOhB,OAAOgM,WAAY,UAAWhL,EAAOiL,WAAa,iBAAiBmB,KAAK,KACvFC,EAAoB,SAASvJ,GACV,gBAATA,KACNA,EAAO1D,EAAEkN,SAASxJ,GAEtB,IAAIyJ,GAAWnC,EAAStH,EASxB,OAbmC9C,GAM5BhB,OAASO,EAAMiN,MAAMD,EAASvM,OAAOyM,YACnCC,UAAU,SACVC,QAAQ,SAASC,EAAGC,GAClB,MAAOtN,GAAMuN,UAAUD,KAEzBE,OAAO/M,EAAOhB,QACdkG,QACFlF,EAAOhB,OAElB,OAAOU,IACHqG,IAAKA,EACLiH,aAAc,WACdX,kBAAmBA,IACpBtE,KAAK,SAASkF,GACb,MAAOA,GAASnK,QASpBoK,EAAmB,SAASpC,GAC5B,GAAIqC,GAASjO,OAAOqK,IAAMrK,OAAOqK,GAAG6D,gBAKpC,OAJAtC,GAAWuC,QAAUF,GAAUA,EAAOG,2BACpBH,EAAOG,2BAA2BC,gBAEpDhO,EAAMwN,OAAOhN,EAAQmK,EAAgBY,EAAWuC,QAASrN,IAClD8K,EAGX,OAAOqB,GAAqBnM,GACnB+H,KAAKmF,GACLnF,KAAK8C,KA5FflM,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KtBo+BD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EuB7+BLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAEA,IAAI0B,GAAQjB,EAAQ,GAChBqB,EAAMrB,EAAQ,IACdoB,EAAQpB,EAAQ,IAChB6L,EAAgB7L,EAAQ,IACxBa,EAAKb,EAAQ,GAAgBa,GAC7BK,EAAMlB,EAAQ,IAEdqK,GACAP,aAAcjJ,EAAK,kBAGnBqO,GACAC,OAAU,mBACVC,eAAgB,oCAjBkB7P,GAuB/BD,QAAU,WAAY,QAuBhB+P,GAAe3H,GACpBA,EAAUA,MACVhH,EAASO,EAAMiN,MAAMxG,GAChB4H,SAASA,GACTlB,UAAUnN,EAAM4C,2BAChB+C,QAELjH,KAAK4P,eAAiB7H,EAAQ8H,OAAS5O,OAAO2O,eAC9C5P,KAAK8P,kBAAmB,EACxB9P,KAAK+P,YAAa,EAhCG,QAoMhBC,GAAoBC,EAAMC,GAO/B,MALAD,GAAOA,GAAQ,EAAIA,EAAO,EAAI,EAEnB,GAARA,GACCC,IAEGD,EAzMX,GAAIE,GACApP,EAaAqP,EAZAT,GACAtC,QAAS,0DACTP,UAAW,0CACXuD,WAAW,EACX9C,eAAgB,IAChB+C,oBAAqB,IACrB7C,aAAc,IACd8C,kBAAmB,2BACnBC,wBAAyB,EACzB5C,cAAc,EAbO,OAAA8B,GAuCVhH,UAAUuF,KAAO,WAE5BjO,KAAKyQ,qBAAsB,EAFYzQ,KAIlC0Q,oBAAqB,EAJa1Q,KAMlC2Q,qBAAuB,EAE5BzE,EAAc0E,aAAa7P,GAGvBA,EAAO6M,cACP5N,KAAK6Q,cAZ8B,IAgBnCC,GAAO9Q,IACXuB,GAAIwE,UAAU2E,EAAOP,aAAc,WAC/B2G,EAAKJ,oBAAqB,EACvBN,GACCU,EAAKC,qBAAoB,MA3DZrB,EAoEVhH,UAAUmI,aAAe,SAASG,GAC7C/P,OAAOgQ,WAAWjR,KAAKkR,KAAKC,KAAKnR,MAAOgR,GAAYjQ,EAAO0M,eArEtCiC,EA6EVhH,UAAUwI,KAAO,SAASE,GACjCpR,KAAK8P,mBACT9P,KAAK8P,kBAAmB,EAFwB9P,KAK3CqR,mBAAmB9L,MAAMvF,KAAMoR,GAAapR,KAAK0Q,oBAC9C3P,EAAOsM,SAAUrF,OAAQ,SACzBjH,EAAOsM,QAAU,mBApFJqC,EA4FVhH,UAAU2I,mBAAqB,SAASvJ,EAAKC,GACxDtG,EAAMqG,EAAKC,GACN+B,KAAK9J,KAAKsR,oBAAoBH,KAAKnR,MAAOA,KAAKuR,mBAAmBJ,KAAKnR,QA9FvD0P,EAuGVhH,UAAU4I,oBAAsB,SAAStC,GACpDhP,KAAK8P,kBAAmB,EACxB9P,KAAK0Q,oBAAqB,EAC1BxE,EAAcsF,cAAcxC,EAASnK,MAHyBqH,EAKhDuF,aALgDzR,KAOzDyQ,qBAAsB,EAGxBzQ,KAAK2Q,sBAAwB5P,EAAOyP,yBACnCtE,EAAcwF,sBAElB1R,KAAK2Q,qBAAuB,CAbkC,IAgB1DgB,GAA0C,IAA9B3C,EAASnK,KAAK+M,aAC3BD,GAAY5Q,EAAOwM,eAElBvN,KAAK+Q,sBAGL/Q,KAAK6R,oBAAoB7C,EAASnK,KAAK+M,gBA7HtBlC,EAqIVhH,UAAUoJ,SAAW,SAASnQ,GACzCD,EAAIC,MAAM,mBAAoBA,IAtIT+N,EA8IVhH,UAAU6I,mBAAqB,SAAS5P,GACnDA,EAAQA,MACR3B,KAAK8P,kBAAmB,EAErB9P,KAAKyQ,qBAAwC,MAAjB9O,EAAMoQ,QAEjC/R,KAAK4P,eAAeoC,QACpBhS,KAAK4P,eAAeqC,QAAQ,2BAA4B,QAHPjS,KAK5C+Q,qBAAoB,GAAO,GAChC/Q,KAAKkS,UACkB,IAAjBvQ,EAAMoQ,QAAqC,YAArBpQ,EAAMwQ,YAElCnS,KAAK2Q,uBACF3Q,KAAK2Q,qBAAuB5P,EAAOyP,yBAElCxQ,KAAK+Q,qBAAoB,GAAO,GAChC/Q,KAAK6Q,aAAa,OAGlB3E,EAAckG,iBACdpS,KAAK6Q,iBAEc,MAAjBlP,EAAMoQ,SAEZ/R,KAAK8R,SAAS,6CAA+CnQ,EAAMwQ,YACnEnS,KAAK6Q,iBAxKYnB,EA+KVhH,UAAUwJ,OAAS,WAC9B,GAAIpB,GAAO9Q,IACX,OAAOyB,GAAMV,EAAO+L,WAChB9E,OAAQ,OACRE,QAASqH,IAEZzF,KAAK,SAASkF,GACX,GAAI+C,GAASM,SAASrD,EAAS+C,OAAQ,GACnCA,IAAU,KAAgB,IAATA,GAA2B,MAAXA,EAKjC9Q,OAAOqR,SAASC,KAAOxR,EAAOkM,YAE9B6D,EAAKgB,SAAS9C,EAASvG,YA9LViH,EAkNVhH,UAAUmJ,oBAAsB,SAASW,GAGpD,GAAI1B,GAAO9Q,IACPoQ,KAEAlE,EAAcuG,eAAeD,GAC7BA,EAAuBxC,EAAoBwC,EAAsB1B,EAAKI,KAAKC,KAAKL,IAChFV,EAAoBnP,OAAOyR,YAAY,WAEnCxG,EAAcuG,eAAeD,GAC7BA,EAAuBxC,EAAoBwC,EAAsB1B,EAAKI,KAAKC,KAAKL,KACjF,KACHA,EAAKD,iBA/NYnB,EAwOVhH,UAAUqI,oBAAsB,SAAS4B,EAAkBC,GACnED,EAEC3S,KAAKkR,MAAK,IAEPd,IACCnP,OAAO4R,cAAczC,GACrBlE,EAAc4G,qBACd1C,EAAoB,MAEpBwC,GACA5S,KAAK6Q,kBAUb7C,YAAa,SAASjG,GAIlB,MAHIzG,GAAMwC,YAAYqM,KAClBA,EAAW,GAAIT,GAAe3H,IAE3BoI,QAxRhBzP,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KvB+wCD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EwBtxCLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAEA,IAAI2B,GAAMlB,EAAQ,GAElBV,SAAQ8R,WAAa,WACjBlQ,EAAIuE,QAAQ,qBAGhBnG,QAAQ6R,cAAgB,SAAS3M,GAC7B,GAAIkO,GAAW,sBACXhB,EAAS,EACTlN,IAAQA,EAAKmO,eAAeD,KAC5BhB,EAA6B,UAApBlN,EAAMkO,IAAyBlO,EAAKkO,MAAc,EAAS,EAAI,GAJzCxR,EAO/BuE,QAAQ,0BAA2BiM,IAjBLpS,QAqB9ByS,eAAiB,WACrB7Q,EAAIuE,QAAQ,8BACRjE,cACIrB,GAAI,kBACJ+J,MAAO,UACP9B,QAAS,4EACT+B,UAAU,MA3BgB7K,QAiC9B+R,oBAAsB,WAC1BnQ,EAAIuE,QAAQ,iCACRjE,cACIrB,GAAI,sBApCsBb,QA0C9B8S,eAAiB,SAASQ,GAC9B1R,EAAIuE,QAAQ,8BACRjE,cACIrB,GAAI,kBACJ+J,MAAO,UACP2I,SAAUD,EACVxK,QAAS,6BACT0K,QACIC,YAAaH,GAEjBzI,UAAU,EACV6I,QACIC,IAAK,oBACLC,IAAKtS,OAAOqR,SAASkB,MAAQ,UAM7C7T,QAAQmT,mBAAqB,WACzBvR,EAAIuE,QAAQ,iCACRjE,cACIrB,GAAI,sBAKhBb,QAAQiR,aAAe,SAAS7P,GACxBE,OAAO2O,eAAe6D,QAAQ1S,EAAOwP,qBAErCtP,OAAOgQ,WAAW,WACd1P,EAAIuE,QAAQ,8BACRjE,cACIrB,GAAI,kBACJ+J,MAAO,OACP9B,QAAS,gDACT+B,UAAU,MAGnBzJ,EAAO4M,4BAA8B,KACxC1M,OAAO2O,eAAe8D,WAAW3S,EAAOwP,sBAlF7C7P,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KxBm3CD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,EyB72CLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YACA,IAAI0B,GAAQjB,EAAQ,EAEpBT,GAAOD,QAAU,SAASyP,EAASrN,GAC/BqN,EAAUA,KACV,IAAIuE,GAAgB,SAASC,GACzB,MAAqB,iBAAdA,EAAKrL,QAA6BqL,EAAKC,UAAU9L,SAA6C,IAAlC6L,EAAKC,UAAU9L,QAAQvE,QAG9F,QACIsQ,UACIC,mBAAoB,SAAUC,GAC1B,GAAIC,GAASD,EAAGE,OAAO1K,QACnB2K,EAAQpS,EAAOqS,YAAYC,kBAAkBJ,EAAOK,MAAMC,YAAYC,MAC1ER,GAAGE,OAAOO,iBAAmBnT,EAAMoT,KAAKP,EAAO,SAASP,GAC7CD,EAAcC,KACbA,EAAKC,UAAUtL,KAAO,aACtBqL,EAAKC,UAAU9L,QAAUqH,UAnBlD1O,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,KzBw5CD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,E0Bz5CLA,GAAO,SAASjB,QAASF,QAASC,GAC9B,YAUA,SAAS+U,GAAeC,EAAU3G,GAE9B,GACI4G,GADAC,IAGJ,IAAI7G,EACA,IAAK,GAAI8G,KAAOH,GACZC,EAAeF,EAAeC,EAASG,IACvCD,EAAUA,EAAQE,OAAOH,OAG5B,IAAID,EAAUK,YAAcL,EAASK,WAAWzR,QAAYoR,EAAS,WAAgBA,EAAS,UAAapR,OAAS,CACrH,GAAI0R,IAAYN,EAASK,gBAAkBD,OAAOJ,EAAS,cAC3DM,GAASxL,QAAQ,SAASyL,GACtBN,EAAeF,EAAeQ,GAC9BL,EAAUA,EAAQE,OAAOH,SAGP,WAAjBD,EAASQ,KACdN,EAAQlS,MACJ2F,KAAMqM,EAASS,iBACfC,QAAS,QACTC,IAAKX,EAASY,aAAajB,YAAYgB,IAAItO,MACtCxC,QAAQ,iBAAkB1C,EAAOhB,OAAOgM,YACxCtI,QAAQ,aAAc,KAxBC,OA6B7BnD,GAAMiN,MAAMuG,GAASW,KAAK,QAAQC,OAAO,QAAQzO,QArC5D,GAAI/F,GAAKb,EAAQ,GAAaa,GAC1BI,EAAQjB,EAAQ,GAChBmB,EAAUnB,EAAQ,IAClBoB,EAAQpB,EAAQ,IAChBW,EAASC,OAETc,EAASf,EAAO6C,IAAM7C,EAAO6C,GAAG9B,MATEf,GA+C/BE,GAAIe,eAAiBrC,EAAOD,QAAU,WAEzC,GAAIyJ,GAAMpI,EAAO6C,GAAG9B,OAAOqS,YAAYhL,IACnCuM,EAAchB,EAAevL,GAAK,GAGlCwM,EAAWD,EAAYE,IAAI,SAASC,GACpC,MAAOrU,GAAMqU,EAAKP,IAAM,cAAczL,KAAK,SAASkF,GAChD8G,EAAKR,QAAUtG,EAASnK,KAAKyQ,SAC9B,WACCQ,EAAKR,QAAU,4BAIvB9T,GAAQ4H,IAAIwM,GAAU9L,KAAK,WACvB5E,QAAQ6Q,MAAMJ,OA9DnBjV,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,K1Bu+CD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,E2Bt+CLA,GAAO,SAASjB,QAASF,QAASC,GAE9B,YAEA,IAAIsB,GAAKb,EAAQ,GAAaa,EAC9Bb,GAAQ,EAL8B,IAMlCgB,GAAUJ,OAAOI,QAOjB2U,EAAmB,SAASzN,GAC5B,IACIlH,EAAQzB,OAAO2I,GAEnB,MAAO0N,GACH,OAAO,EAEX,OAAO,EAGXrW,GAAOD,QAAU,SAAS4I,EAAMhG,GAE5BgG,GAAQrH,EAAIqH,GAAM4F,KAAK,IAEvB,IAAI+H,EAJ8B,IAO9B3N,EAAKoD,QAAQ,WAAa,GAAI,CAE9B,GAAIwK,GAAsB5N,EAAO,YAE7ByN,GAAiBG,IAEjB5T,EAAKK,KAAKuT,GAF6BD,EAK5B7U,EAAQzB,OAAO2I,EAAMhG,GALO2T,EAQ9BxW,QAAQ,2DAAyB,SAAS0W,EAAgBC,GAC/D,OACIC,IAAK,SAASvB,EAAK9N,GAEf,MADA8N,GAAMsB,EAAeE,YAAYxB,GAC1BqB,EAAeE,IAAIvB,EAAK9N,SAM3CiP,EAAW7U,EAAQzB,OAAO2I,EAAMhG,OAIpC2T,GAAW7U,EAAQzB,OAAO2I,EAAMhG,EAGpC,OAAO2T,KA3DRxV,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,K3BojDD,SAASlB,EAAQD,QAASU,GAE/B,GAAIS,E4B3jDLA,GAAO,SAASjB,QAASF,QAASC,GAC9B,YADsC,SAsB7B4W,GAAY3R,GACjB,GAAI4R,IACAC,UAAW7R,EAAK6R,UAkBpB,OAdI7R,GAAKrE,KACLiW,EAAQjW,GAAKqE,EAAKrE,IAIlBqE,EAAK8R,SACLF,EAAQC,UAAY,IAAM7R,EAAK8R,OAAS,KAAOF,EAAQC,WAIvD7R,EAAK+R,MAAQ/R,EAAK+R,KAAKpT,SACvBiT,EAAQC,UAAYD,EAAQC,UAAY,MAAQ5I,KAAK+I,UAAUhS,EAAK+R,OAGjEH,EAvCX,GAAIvV,GAAKb,EAAQ,GAAgBa,GAC7BK,EAAMlB,EAAQ,IACdiB,EAAQjB,EAAQ,GAEhByW,GACAC,MAAO7V,EAAK,qBACZ8V,IAAK9V,EAAK,mBATwBtB,GAgD/BD,QAAU,SAA6BsX,GAM1C,MALAA,GAAS3V,EAAMqO,SAASsH,OACpB1V,IAAKA,EACLmJ,OAAQoM,KAaRC,MAAO,SAAUxO,EAAM1D,GACnBA,EAAOA,MACPA,EAAK6R,UAAYnO,EACjB0O,EAAO1V,IAAIuE,QAAQmR,EAAOvM,OAAOqM,MAAOP,EAAW3R,KAevDmS,IAAK,SAAUzO,EAAM1D,GACjBA,EAAOA,MACPA,EAAK6R,UAAYnO,EACjB0O,EAAO1V,IAAIuE,QAAQmR,EAAOvM,OAAOsM,IAAKR,EAAW3R,QArF1DnE,KAAAf,QAAAU,EAAAV,QAAAC,KAAAmD,SAAAjC,IAAAlB,EAAAD,QAAAmB,K5BmqDD,SAASlB,EAAQD,QAASU,GAE/B,YAEA,IAAIqG,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIC,cAAgBH,OAAS,eAAkBE,K6BvqD3O,SAAUpH,EAAMC,GAEW,WAAZgH,EAAA/G,SACPC,EAAOD,QAAUD,IAEjBD,EAAK2C,cAAgB1C,KAL5BqD,OAOO,WAGJ,QAASmU,GAAK1S,GACV,GAAI2S,OAAOzO,UAAUwO,KACjB,MAAO1S,GAAI0S,MAEf,IAAIE,GAAQ,oCACZ,OAAO5S,GAAIC,QAAQ2S,EAAO,IAG9B,QAASC,GAAWC,GAChB,MAAwB,kBAATA,GAEnB,QAASjS,GAASwB,GACd,MAAuB,YAAR,mBAAAA,GAAA,YAAAH,EAAAG,OAAsBA,YAAe0Q,QAExD,QAASC,GAAgB3Q,GACrB,MAAOxB,GAASwB,IAAwC,mBAAxBA,GAAI,aAlBzB,QAsBN4Q,GAAcC,EAAUC,EAAYC,GACzC,IACIA,EAAOV,EAAKU,EADZ,IAGIC,GAAa,GAAIC,QAAO,wBAAyB,IAChDD,GAAWE,KAAKH,KACjBA,EAAOA,EAAKnT,QAAQ,OAAQ,KAEhCmT,EAAOF,EAEFjT,QAAQ,UAAW,IAEnBA,QAAQ,GAAIqT,QAAO,IAAMH,GAAa,IAAMC,EACnD,MAAOI,GAEL,KADA9S,SAAQxD,IAAI,wCACNsW,EAEV,MAAOJ,GAGX,QAASK,GAAS3V,EAAI4V,GACd5V,EAAG6V,UACH7V,EAAG6V,UAAUC,IAAIF,GAEjB5V,EAAG4V,WAAa,IAAMA,EAG9B,QAASG,GAAY/V,EAAI4V,GACjB5V,EAAG6V,UACH7V,EAAG6V,UAAUG,OAAOJ,GAEpB5V,EAAG4V,UAAY5V,EAAG4V,UAAUzT,QAAQ,GAAIqT,QAAO,UAAYI,EAAU5Q,MAAM,KAAK6G,KAAK,KAAO,UAAW,MAAO,KAItH,QAASoK,GAAgBC,GACrB,GAAIC,GAAqB,oBACrBnW,EAAKkW,EAAeE,IAExBF,GAAeG,QAAU,SAAST,GAC9BO,EAAsBP,GAAaO,EACnCR,EAAS3V,EAAImW,IAEjBD,EAAe/X,OAAS,SAASmY,GAC7BP,EAAY/V,EAAImW,GACS,gBAAdG,IACPX,EAAS3V,EAAIsW,IApEV,QA6KNC,GAA2BC,GAAK,QAe5BC,GAAcC,GAInB,MAHIA,GAAWjS,QAAS,GAA+B,QAAtBiS,EAAWhR,SACxCgR,EAAW9Q,QAAQnB,EAAKY,wBAA0BZ,EAAKC,YAEpDgS,EAlBXF,EAAI/X,QAAQ,gBAAiB,SAAUkY,GACnCA,EAAcC,aAAatW,KAAK,WAC5B,OACIuW,QAASJ,QAjLV,QA2MNK,KACAnY,OAAOoY,QAEZpY,OAAOoY,OAAOC,cAAc,SAASN,EAAYO,EAAUC,GACnDR,EAAWjS,QAAS,GAA2C,QAAlCiS,EAAWS,KAAKxR,eADWuR,EAMxDE,iBAAiB3S,EAAKY,uBAAwBqR,EAAWjS,MAAQA,EAAKC,cA3IlF,GAAID,GAAQ,WAWR,QAASC,KACL,GAAIC,GAAQ,KAAOC,SAASC,OACxBC,EAAQ,GACRD,EAASE,GAGb,IADAD,EAAQH,EAAMK,MAAM,KAAOH,EAAS,KAChB,GAAhBC,EAAM5D,OAAa,CACnB,GAAI+D,GAAQH,EAAMI,MAAMF,MAAM,KAAKG,OACnC,OAAOF,IAKf,QAASF,KACL,MAAOK,GAGX,QAASC,KACL,MAAOC,GA5BX,GAAIA,GAAoB,WACpBF,EAAa,QAEjB,QACIV,SAAUA,EACVW,qBAAsBA,EACtBN,cAAeA,EACfsS,aAActS,KA8BtB,OALApG,QAAOyE,UAAYzE,OAAOyE,cAC1BzE,OAAOyE,UAAUqB,KAAOA,EAExBqS,IAEO,SAASZ,EAAgBoB,GAC5B,GAAIC,GAAY5Y,OAAO4Y,SADiB,IAGpCxC,EAAWwC,GAAY,CACvB,GAAIC,GAAQtB,EAAeuB,YAC3BH,GAAanC,EACTqC,EAAQA,EAAME,KAAO,GACrBH,EAAUI,EAAEC,SAASlX,EAAEjC,OAAOoZ,QAC9BP,GAGJrB,EAAgBC,GAEhBqB,GAAWD,GAAa,SAASQ,GAGzB/C,EAAW+C,GAEXA,EAAa1Z,KAAK,KAAM8X,GAGjBhB,EAAgB4C,GAEvBP,GAAW,UAAW,QAAS,SAASzY,GAEpCgZ,EAAarZ,QAAA,qEAAO,SAASsZ,EAAsBC,EAAoBC,GACnEF,EAAqBG,kBAAkBhC,GACvC8B,EAAmBE,kBAAkBhC,GACrC+B,EAAuBC,kBAAkBhC,MAG7CK,EAA2BuB,GAC3BhZ,EAAGiB,UAAUmW,EAAeE,MAAQF,GAAiB4B,EAAa7R,SAI/DlD,EAAS+U,IAGZ/C,EAAW+C,EAAaK,OACM,gBAAnBjC,KAEHA,EADyB,mBAAlBvX,QAAOoY,OACGpY,OAAOoY,OAAOb,GAEdvX,OAAOiG,SAASwT,iBAAiBlC,IAG1D4B,EAAaK,IAAI/Z,KAAK,KAAM8X","file":"scripts/main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"angular\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\", \"angular\", \"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"base\"] = factory(require(\"jquery\"), require(\"angular\"), require(\"lodash\"));\n\telse\n\t\troot[\"base\"] = factory(root[\"jquery\"], root[\"angular\"], root[\"lodash\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"angular\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\", \"angular\", \"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"base\"] = factory(require(\"jquery\"), require(\"angular\"), require(\"lodash\"));\n\telse\n\t\troot[\"base\"] = factory(root[\"jquery\"], root[\"angular\"], root[\"lodash\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : main.js\n\t *  Description: Base library for creating Launchpad components/widgets/modules\n\t *  ----------------------------------------------------------------\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t  'use strict';\n\n\t  var config = __webpack_require__(2); /// Launchpad configuration\n\t  var global = window;\n\t  var NS = config.NS;\n\t  // Create the global launchpad object is doesn't exists\n\t  global[NS] = global[NS] || {};\n\t  /*----------------------------------------------------------------*/\n\t  /* Launchpad NameSpace\n\t  /*----------------------------------------------------------------*/\n\t  exports.NS = NS;\n\t  /*----------------------------------------------------------------*/\n\t  /* 3rd parties\n\t  /*----------------------------------------------------------------*/\n\t  exports.$ = __webpack_require__(3); // @todo export $.noConflict();\n\t  __webpack_require__(4); // angular from window, it doesn't export\n\t  exports.ng = window.angular; // export angular\n\n\t  /*----------------------------------------------------------------*/\n\t  /* Modules\n\t  /*----------------------------------------------------------------*/\n\t  exports.utils = __webpack_require__(5); // lodash + custom utils;\n\t  exports.bus = __webpack_require__(10);\n\t  exports.Promise = __webpack_require__(11);\n\t  exports.fetch = __webpack_require__(12);\n\t  exports.log = __webpack_require__(13);\n\t  exports.error = __webpack_require__(14);\n\t  exports.queue = __webpack_require__(15);\n\t  exports.notification = __webpack_require__(16);\n\n\t  /*----------------------------------------------------------------*/\n\t  /* Extensions\n\t  /*----------------------------------------------------------------*/\n\t  exports.Widget = __webpack_require__(19);\n\t  exports.portal = __webpack_require__(20);\n\n\t  /*----------------------------------------------------------------*/\n\t  /* Public utility libraries\n\t  /*----------------------------------------------------------------*/\n\t  exports.startPortal = __webpack_require__(21);\n\t  exports.getWidgetsInfo = __webpack_require__(25);\n\t  exports.createModule = __webpack_require__(26);\n\t  exports.performance = __webpack_require__(27);\n\n\t  /*----------------------------------------------------------------*/\n\t  /* Helpers\n\t  /*----------------------------------------------------------------*/\n\t  exports.requireWidget = global.requireWidget || __webpack_require__(28);\n\n\t  /*----------------------------------------------------------------*/\n\t  /* Angular related functions\n\t  /*----------------------------------------------------------------*/\n\t  /**\n\t  * Angular Boostrap alias\n\t  * @param  {HTMLElement} el   DOM element\n\t  * @param  {Array} deps angular dependencies\n\t  * @todo move to the ng module\n\t  * @example\n\t  * base.bootstrap( DOMNODE, [angular, dependencies])\n\t  * @return {object}\n\t  */\n\n\t  exports.bootstrap = function (el, deps) {\n\t    return exports.ng.bootstrap(el, deps);\n\t  };\n\t  /**\n\t   * Angular DI helper\n\t   * @param  {string} lib    Recuired library\n\t   * @param  {string} moduleName Module name default is ng\n\t   * @example\n\t   * <pre>\n\t   *    var utils = base.inject('lpCoreUtils', require('core').name);\n\t   *    var fetch = base.inject('$http');\n\t   * </pre>\n\t   * @return {object}        Required library\n\t   * @todo move to the ng module\n\t   */\n\t  exports.inject = function (lib, moduleName) {\n\t    var deps = ['ng'];\n\t    if (!exports.utils.isEmpty(moduleName)) {\n\t      // get angular default module\n\t      deps.push(moduleName);\n\t    }\n\t    return exports.ng.injector(deps).get(lib);\n\t  };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t * Launchpad global configuration file\n\t * @param  {[type]} require [description]\n\t * @param  {[type]} exports [description]\n\t * @param  {String} module) {                    exports.NS [description]\n\t * @return {[type]}         [description]\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t  'use strict';\n\t  // global Namespace and modules / widgets namespace\n\n\t  exports.NS = 'launchpad';\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var _ = __webpack_require__(6).noConflict();\n\n\t    _.mixin(__webpack_require__(7));\n\t    _.mixin(__webpack_require__(8));\n\t    _.mixin(__webpack_require__(9));\n\t    //_.mixin(require('./ng'));\n\n\t    module.exports = _;\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : is.js\n\t *  Description: Checking utilities.\n\t *  ----------------------------------------------------------------\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var _ = __webpack_require__(6);\n\t    var NS = __webpack_require__(2).NS;\n\t    var global = window;\n\t    /**\n\t     * Check and return true if mobile device/mobile SDK is detected or return false otherwise\n\t     * @return {Boolean}\n\t     */\n\t    exports.isMobileDevice = function () {\n\t        //return true if mobile SDK is present\n\t        if (global[NS].mobileSDK) {\n\t            return true;\n\t        }\n\n\t        var deviceTypes = [/iPhone|iPad|iPod/i, /Android/i, /BlackBerry/i, /Opera Mini/i, /IEMobile/i, /MeeGo/i];\n\n\t        for (var i = 0, l = deviceTypes.length; i < l; i++) {\n\t            if (navigator.userAgent.match(deviceTypes[i])) {\n\t                return true;\n\t            }\n\t        }\n\n\t        return false;\n\t    };\n\n\t    /**\n\t     * Check if b$ is available and is not mocked\n\t     * @return {Boolean}\n\t     * @todo remove b$.bdom check after b$.isMocked as flag is added on all b$'s mock libs\n\t     */\n\t    exports.isb$Mocked = function () {\n\t        var b$ = global.b$;\n\t        return _.isUndefined(b$) || Boolean(b$.isMocked) === true || _.isUndefined(b$.bdom);\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    var _ = __webpack_require__(6);\n\n\t    /**\n\t     * Replace all portal placeholders\n\t     * @param  {string} string Template used\n\t     * @return {string}        Resolved string\n\t     * @todo\n\t     *     - pass in the resolver as well so is more flexible\n\t     *     - move to portal module as utility\n\t     */\n\t    exports.resolvePortalPlaceholders = function (string) {\n\t        var replaceWith = _.get(window, 'b$.portal.config.serverRoot', '');\n\t        if (_.isString(string)) {\n\t            var replacements = ['$(contextRoot)', '$(contextPath)', '$(servicesPath)'];\n\t            string = _.reduce(replacements, function (str, replace) {\n\t                return str.replace(replace, replaceWith);\n\t            }, string);\n\t        }\n\t        return string;\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var _ = __webpack_require__(6);\n\n\t    /**\n\t     * use to warn for deprecated methods\n\t     * @return console warn and calls the aliased function\n\t     */\n\t    exports.deprecate = function (fn, tpl, data) {\n\n\t        var NODEP = window.launchpad && window.launchpad.config && window.launchpad.config.usemin;\n\t        if (NODEP) {\n\t            return fn;\n\t        }\n\n\t        var warned = false;\n\n\t        function warn(msg) {\n\t            var compiled = _.template(msg);\n\t            var c = window.console;\n\t            var warning = compiled(data);\n\n\t            if (!warned && _.isObject(c)) {\n\t                c.warn(warning);\n\t                warned = true;\n\t            }\n\t        }\n\n\t        function deprecated() {\n\t            warn(tpl);\n\t            return fn.apply(this, arguments);\n\t        }\n\n\t        return _.isString(fn) || !NODEP ? warn(fn) : deprecated;\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : bus.js\n\t *  Description:\n\t *  ----------------------------------------------------------------\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\t    /*----------------------------------------------------------------*/\n\t    /* Use b$ window.gadgets.pubsub\n\t    /*----------------------------------------------------------------*/\n\n\t    module.exports = window.gadgets && window.gadgets.pubsub || {\n\t        publish: function publish() {},\n\t        subscribe: function subscribe() {}\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : Promise.js\n\t *  Description:\n\t *  ----------------------------------------------------------------\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    __webpack_require__(4); // angular from window, it doesn't export\n\t    var angular = window.angular;\n\t    /**\n\t     * Use native Promise or angular $q Service\n\t     */\n\t    module.exports = window.Promise || function ($q) {\n\t        var P = angular.extend(function (resolver) {\n\t            var deferred = $q.defer();\n\t            resolver(deferred.resolve, deferred.reject);\n\t            return deferred.promise;\n\t        }, $q);\n\n\t        P.resolve = function (data) {\n\t            return $q.when(data);\n\t        };\n\n\t        return P;\n\t    }(angular.injector(['ng']).get('$q'));\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : fetch.js\n\t *  Description:\n\t *  ----------------------------------------------------------------\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    __webpack_require__(4); // angular from window, it doesn't export\n\t    var angular = window.angular;\n\t    var xsrf = function () {\n\t        var requestHeaderName = 'X-BBXSRF';\n\t        var cookieName = 'BBXSRF';\n\n\t        return {\n\t            getToken: getToken,\n\t            getRequestHeaderName: getRequestHeaderName\n\t        };\n\n\t        function getToken() {\n\t            var value = '; ' + document.cookie,\n\t                parts = '',\n\t                cookie = getCookieName();\n\n\t            parts = value.split('; ' + cookie + '=');\n\t            if (parts.length == 2) {\n\t                var token = parts.pop().split(';').shift();\n\t                return token;\n\t            }\n\t            return undefined;\n\t        }\n\n\t        function getCookieName() {\n\t            return cookieName;\n\t        }\n\n\t        function getRequestHeaderName() {\n\t            return requestHeaderName;\n\t        }\n\t    }();\n\n\t    /**\n\t     * Use Angular $http Service\n\t     */\n\t    module.exports = function (http) {\n\t        return function (url, options) {\n\t            options = ((typeof url === 'undefined' ? 'undefined' : _typeof(url)) === 'object' ? url : options) || {};\n\t            if (options.xsrf !== false && options.method && options.method.toUpperCase() !== 'GET') {\n\t                options.headers = options.headers || {};\n\t                options.headers[xsrf.getRequestHeaderName()] = xsrf.getToken();\n\t            }\n\n\t            return http(angular.extend({\n\t                url: url,\n\t                method: 'get',\n\t                responseHeaders: {\n\t                    'cache-control': 'no-cache' // for old IE\n\t                }\n\t            }, options));\n\t        };\n\t    }(angular.injector(['ng']).get('$http'));\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : main.js\n\t *  Description: Logging system\n\t *  ----------------------------------------------------------------\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t  'use strict';\n\n\t  __webpack_require__(4); // angular from window, it doesn't export\n\t  var angular = window.angular;\n\t  /**\n\t   * Use Angular $log Service\n\t   */\n\t  module.exports = angular.injector(['ng']).get('$log');\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : handler.js\n\t *  Description:\n\t *  ----------------------------------------------------------------\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t  'use strict';\n\n\t  /**\n\t   * @todo move lpCoreError API here;\n\t   */\n\n\t  exports.captureException = function (error, options) {};\n\t  /**\n\t  * Creates a custom Error Exception\n\t  * @param   {String} name  Exception name\n\t  * @returns {Object}       ErrorCustomException constructor\n\t  */\n\t  exports.createException = function (name) {\n\t    function ErrorException(message) {\n\t      this.name = name || 'Error';\n\t      this.message = message || 'Unknown Message';\n\t    }\n\n\t    ErrorException.prototype = new Error();\n\t    ErrorException.prototype.constructor = ErrorException;\n\n\t    return ErrorException;\n\t  };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t * Retry queue of actions.\n\t *\n\t * @copyright Backbase B.V.\n\t * @author Backbase R&D - Amsterdam - Launchpad\n\t *\n\t * @name retry\n\t * @memberof base\n\t */\n\t/* eslint no-underscore-dangle:0 */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var Promise = __webpack_require__(11);\n\n\t    var service = {\n\t        __onPushCallbacks: []\n\t    };\n\t    var queue = [];\n\n\t    service.queue = queue;\n\n\t    function filterByContext(contextId) {\n\t        var index = 0,\n\t            keep = [];\n\t        while (index < queue.length) {\n\t            if (queue[index].contextId === contextId) {\n\t                keep.push(queue.splice(index, 1)[0]);\n\t            } else {\n\t                index++;\n\t            }\n\t        }\n\t        return keep;\n\t    }\n\n\t    /**\n\t     *\n\t     * @param method {String} Name of the task to run, either \"retry\" or \"cancel\".\n\t     * @param [contextId] {String} contextId of the task to run.\n\t     * @return {Promise}\n\t     */\n\t    function dequeue(method, contextId) {\n\n\t        var allTasks = [],\n\t            filteredQueue = contextId ? filterByContext(contextId) : queue;\n\n\t        // Special \"clear\" name is used to simply drop queue tasks without either canceling or retrying.\n\t        // It is used in case of retring context when only the first retryObject is actually retried and the\n\t        // rest is cleared in case of success.\n\t        if (method === 'clear') {\n\t            filteredQueue.length = 0;\n\t        } else {\n\t            while (filteredQueue.length) {\n\t                allTasks.push(filteredQueue.shift()[method]());\n\t            }\n\t        }\n\n\t        return Promise.all(allTasks);\n\t    }\n\n\t    service.__runPushCallbacks = function (context, retryObject) {\n\t        service.__onPushCallbacks.forEach(function (callback) {\n\t            callback(context, retryObject);\n\t        });\n\t    };\n\n\t    service.push = function (context, retryFunction) {\n\n\t        return new Promise(function (resolve, reject) {\n\n\t            // Push new retry item to the stack\n\t            var retryObject = {\n\t                contextId: context.contextId,\n\t                retry: function retry() {\n\t                    return Promise.resolve(retryFunction()).then(resolve, reject);\n\t                },\n\t                cancel: reject\n\t            };\n\n\t            // Push in queue and trigger onPush event\n\t            queue.push(retryObject);\n\t            service.__runPushCallbacks(context, retryObject);\n\t        });\n\t    };\n\n\t    service.hasMore = function () {\n\t        return queue.length > 0;\n\t    };\n\n\t    service.onPush = function (callback) {\n\t        service.__onPushCallbacks.push(callback);\n\t    };\n\n\t    /**\n\t     * Retry all same context queue callbacks one more time.\n\t     * @param retryObject {Object} Task object to retry.\n\t     */\n\t    service.retry = function (retryObject) {\n\t        return retryObject.retry().then(function () {\n\t            return dequeue('clear', retryObject.contextId);\n\t        });\n\t    };\n\n\t    /**\n\t     * Clear all tasks in queue or same context tasks.\n\t     * @param retryObject {Object} Task object to retry.\n\t     */\n\t    service.cancel = function (retryObject) {\n\t        return dequeue('cancel', retryObject.contextId);\n\t    };\n\n\t    module.exports = service;\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : main.js\n\t *  Description:\n\t *   Notifications to low-level events like errors, offline notifications, etc.\n\t *  ----------------------------------------------------------------\n\t */\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t  'use strict';\n\n\t  // network notifications handlers\n\n\t  exports.network = __webpack_require__(17);\n\t  // user actions notifications\n\t  exports.userActivity = __webpack_require__(18);\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : network.js\n\t *  Description: Network global subscription events\n\t *  ----------------------------------------------------------------\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var $ = __webpack_require__(3);\n\t    var NS = __webpack_require__(2).NS;\n\t    var bus = __webpack_require__(10);\n\t    var utils = __webpack_require__(5);\n\t    var events = {\n\t        offline: NS + '.network.offline',\n\t        online: NS + '.network.online'\n\t    };\n\n\t    function handleOffline(data) {\n\t        bus.publish('launchpad.add-notification', utils.merge({\n\t            notification: {\n\t                container: {\n\t                    template: 'templates/offline.html'\n\t                },\n\t                id: 'offline-notification',\n\t                level: 'info',\n\t                message: 'Network connection has been lost.',\n\t                closable: true\n\t            }\n\t        }, data));\n\t    }\n\n\t    function handleOnline() {\n\t        bus.publish('launchpad.remove-notification', {\n\t            notification: {\n\t                id: 'offline-notification'\n\t            }\n\t        });\n\t    }\n\n\t    /**\n\t     * Initialization\n\t     * @return {*}\n\t     */\n\t    module.exports = function () {\n\t        /**\n\t        * Online & offline\n\t        * https://developer.mozilla.org/en/docs/Online_and_offline_events\n\t        */\n\t        $(window).on('offline', handleOffline).on('online', handleOnline);\n\n\t        /**\n\t         * In case of mobile platform offline event will be handed by SDK.\n\t         */\n\t        bus.subscribe(events.offline, handleOffline);\n\t        bus.subscribe(events.online, handleOnline);\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : user-activity.js\n\t *  Description: User actions global subscription events\n\t *  ----------------------------------------------------------------\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var $ = __webpack_require__(3);\n\t    var NS = __webpack_require__(2).NS;\n\t    var bus = __webpack_require__(10);\n\t    var events = {\n\t        userActivity: NS + '.user.activity'\n\t    };\n\n\t    function notifyOnActivity() {\n\t        bus.publish(events.userActivity);\n\t    }\n\n\t    /**\n\t     * Initialization\n\t     * @return {*}\n\t     */\n\t    module.exports = function () {\n\t        $(document).on('click keypress', notifyOnActivity);\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : backbase-widget.js\n\t *  Description: Extending BackbaseWidget Class\n\t *  ----------------------------------------------------------------\n\t */\n\n\t/* eslint-disable */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var utils = __webpack_require__(5);\n\t    var global = window;\n\t    var b$ = global.b$;\n\n\t    if (utils.isb$Mocked()) {\n\t        return false;\n\t    } // running in standalone mode\n\n\t    var NS = global.b$.bdom.getNamespace('http://backbase.com/2013/portalView');\n\t    var BackbaseWidget = module.exports = NS.getClass('backbaseWidget');\n\t    /**\n\t     * Overrides widget default buildDisplay to postpone actual displaying for launcher container tab style widgets\n\t     * @param {Boolean} forceDisplay prevents the display from postponement mechanism working. Use this, when the\n\t     *                               widget should actually be displayed\n\t     */\n\n\t    BackbaseWidget.prototype.createDisplay = function (forceDisplay) {\n\n\t        this._displayed = this._displayed || forceDisplay;\n\n\t        //boolean expr to check if we should postpone displaying (until the tab is clicked)\n\t        var postponeDisplay = !bd.designMode && // Disable lazy loading in Portal Manager\n\t        !this._displayed && //not already displayed\n\t        this.parentNode.tagName === 'LauncherContainer' && ( //parent is a launcher\n\t        this.getPreference('area') === '2' || this.getPreference('area') === '3') && //its in the launcher sidebar\n\t        this.getPreference('widgetChrome').indexOf('chrome-tab') > -1; //it has a tab chrome\n\n\t        if (!postponeDisplay) {\n\t            this._displayed = true;\n\t            this.constructor.superClass.prototype.createDisplay.call(this);\n\t        }\n\t    };\n\n\t    BackbaseWidget.prototype.getPreferenceFromParents = function (name) {\n\n\t        var getPreference = function getPreference(name, node) {\n\t            var val;\n\t            if (node.getPreference && node.tagName !== 'application') {\n\t                val = node.getPreference(name);\n\t                if (!val && node.parentNode) {\n\t                    val = getPreference(name, node.parentNode);\n\t                }\n\t            }\n\t            return val;\n\t        };\n\n\t        return getPreference(name, this);\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    module.exports = function () {};\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : start-portal.js\n\t *  Description: Start portal\n\t *      - get the portal preferences and\n\t *      - initialize session timeout handler\n\t *  ----------------------------------------------------------------\n\t *  @todo - connect Session options with portal preferences\n\t *  @todo - use base modules like (utils, portal, page)\n\t */\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var utils = __webpack_require__(5);\n\t    var fetch = __webpack_require__(12);\n\t    var Session = __webpack_require__(22);\n\t    var Widget = __webpack_require__(19);\n\t    var preferencesForm = __webpack_require__(24);\n\t    var notifications = __webpack_require__(16);\n\t    var $ = __webpack_require__(3);\n\n\t    // @TODO replace with a parser form utils\n\t    var parseXml = function parseXml(xml) {\n\t        var oldXmlParser = window.be && window.be.xmlToJson;\n\t        return oldXmlParser({ xml: xml });\n\t    };\n\n\t    /**\n\t     * Start Launchpad portal\n\t     * @param  {object} portalDomModel b$-DomModel\n\t     * @param  {object} portal         Portal configuration\n\t     * @return {object}                Promise object\n\t     */\n\t    module.exports = function StartPortal(portalDomModel, portal) {\n\t        // @TODO replace with page module\n\t        // @TODO get logout URL from portal preferences\n\t        var page = portal.portalView.getElementsByTagName('page')[0];\n\t        var initSession = function initSession(portalPref) {\n\t            var options = {\n\t                logoutUrl: portalPref.serverRoot + '/j_spring_security_logout?portalName=' + portal.portalName,\n\t                redirectUrl: portalPref.serverRoot + portalPref.defaultLandingPage,\n\t                sessionUrl: portalPref.sessionEndpoint,\n\t                pingUrl: portalPref.sessionValidateEndpoint,\n\t                startCountdown: portalPref.startCountdownAt,\n\t                pingInterval: portalPref.sessionCheckInterval,\n\t                notifyAfterTimeoutDuration: portalPref.notifyAfterTimeoutDuration,\n\t                userLoggedIn: !!portal.loggedInUserId\n\t            };\n\t            if (JSON.parse(page.getPreference('enableTimeout') || false)) {\n\t                notifications.userActivity();\n\t                Session.getInstance(options).init();\n\t            }\n\t        };\n\n\t        /**\n\t         * fetch the portal preferences form the Rest API\n\t         * @todo use portal module\n\t         * @todo cache promise\n\t         */\n\t        var getPortalPreferences = function getPortalPreferences() {\n\t            var url = [portal.config.serverRoot, 'portals', portal.portalName + '.xml?pc=false'].join('/');\n\t            var transformResponse = function transformResponse(data) {\n\t                if (typeof data === 'string') {\n\t                    data = $.parseXML(data);\n\t                }\n\t                var jsonData = parseXml(data);\n\t                // Add it to portal.config\n\t                portal.config = utils.chain(jsonData.portal.properties).mapValues('value').mapKeys(function (v, k) {\n\t                    return utils.camelCase(k);\n\t                }).assign(portal.config).value();\n\t                return portal.config;\n\t            };\n\t            return fetch({\n\t                url: url,\n\t                responseType: 'document',\n\t                transformResponse: transformResponse\n\t            }).then(function (response) {\n\t                return response.data;\n\t            });\n\t        };\n\n\t        /**\n\t         * Extend WidgetInstance with customChromes\n\t         * @todo get the chrome preferences from the portal preferences\n\t         * instead of uiEditingOptions\n\t         */\n\t        var addCustomChromes = function addCustomChromes(portalPref) {\n\t            var uiConf = window.bd && window.bd.uiEditingOptions;\n\t            portalPref.chromes = uiConf && uiConf.widgetPreferenceSelections ? uiConf.widgetPreferenceSelections.widgetChrome //global widgetChromes\n\t            : [];\n\t            utils.assign(Widget, preferencesForm(portalPref.chromes, portal));\n\t            return portalPref;\n\t        };\n\n\t        return getPortalPreferences(portal).then(addCustomChromes).then(initSession);\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t * Session timeout handling\n\t * Pings the session endpoint to determine session time remaining.\n\t * If less than 'startCountdownAt', a timeout warning is initiated.\n\t * If no time is left, automatic logout\n\t * User click and keyboard events revalidate the session on every ping, or immediately if the warning is active\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var utils = __webpack_require__(5);\n\t    var log = __webpack_require__(13);\n\t    var fetch = __webpack_require__(12);\n\t    var notifications = __webpack_require__(23);\n\t    var NS = __webpack_require__(2).NS;\n\t    var bus = __webpack_require__(10);\n\n\t    var events = {\n\t        userActivity: NS + '.user.activity'\n\t    };\n\n\t    var formHeaders = {\n\t        'Accept': 'application/json',\n\t        'Content-Type': 'application/x-www-form-urlencoded'\n\t    };\n\n\t    /*----------------------------------------------------------------*/\n\t    /* Export Singleton session handler\n\t    /*----------------------------------------------------------------*/\n\t    module.exports = function () {\n\n\t        var instance; // Session Handler instance\n\t        var config; // store the configuration options\n\t        var defaults = {\n\t            pingUrl: '$(servicesPath)/services/rest/v1/authentication/session',\n\t            logoutUrl: '$(contextRoot)/j_spring_security_logout',\n\t            keepAlive: true,\n\t            startCountdown: 60000,\n\t            notifyAfterInterval: 5000,\n\t            pingInterval: 30000,\n\t            sessionExpiredKey: 'launchpad.sessionExpired',\n\t            maxConsecutiveFailCount: 3,\n\t            userLoggedIn: false\n\t        };\n\n\t        var countdownInterval; // session notification countdown interval\n\n\t        /**\n\t         * Session handler\n\t         * @param {options} options Configuration\n\t         * @constructor\n\t         */\n\t        function SessionHandler(options) {\n\t            options = options || {};\n\t            config = utils.chain(options).defaults(defaults).mapValues(utils.resolvePortalPlaceholders).value();\n\n\t            this.sessionStorage = options.store || window.sessionStorage;\n\t            this.isPollingStarted = false;\n\t            this.hasSession = false;\n\t        }\n\n\t        /**\n\t         * Init Session Timeout\n\t         * @return {object} SessionHandler instance\n\t         */\n\t        SessionHandler.prototype.init = function () {\n\t            //determines if a valid session previously existed during this page load\n\t            this.validSessionExisted = false;\n\t            //records if a user event has occurred\n\t            this.userEventsOccurred = false;\n\t            //keeps track of consecutive ping fails. helps to detect internet connectivity problems\n\t            this.consecutiveFailCount = 0;\n\n\t            notifications.afterTimeout(config);\n\n\t            // If user is logged in enable session notifications\n\t            if (config.userLoggedIn) {\n\t                this.startPolling();\n\t            }\n\t            // adding \"Continue work\" button handler for notification\n\t            // and user activity handling\n\t            var self = this;\n\t            bus.subscribe(events.userActivity, function userEventsReceived() {\n\t                self.userEventsOccurred = true;\n\t                if (countdownInterval) {\n\t                    self.clearSessionWarning(true);\n\t                }\n\t            });\n\t        };\n\n\t        /**\n\t         * Start session polling\n\t         * @param {Number} interval defines delay before polling start\n\t         */\n\t        SessionHandler.prototype.startPolling = function (interval) {\n\t            window.setTimeout(this.ping.bind(this), interval || config.pingInterval);\n\t        };\n\n\t        /**\n\t         * Ping function\n\t         * @param {Boolean} reconfirm - flag to define if we have to refresh session or\n\t         * just check it\n\t         */\n\t        SessionHandler.prototype.ping = function (reconfirm) {\n\t            if (this.isPollingStarted) {\n\t                return;\n\t            }\n\t            this.isPollingStarted = true;\n\n\t            //decide which ping function to perform\n\t            this.makeSessionRequest.apply(this, reconfirm || this.userEventsOccurred ? [config.pingUrl, { method: 'PUT' }] : [config.pingUrl + '/validate', {}]);\n\t        };\n\n\t        /**\n\t         * Fetch session data\n\t         * @param {Object} options - request configuration (URL, request method, etc)\n\t         */\n\t        SessionHandler.prototype.makeSessionRequest = function (url, options) {\n\t            fetch(url, options).then(this.handleStateResponse.bind(this), this.handleNetworkError.bind(this));\n\t        };\n\n\t        /**\n\t         * Response handling function\n\t         * @param {Object} responce - session request result. If request status\n\t         * is OK, it contains freshnessFlag and remaining time.\n\t         * @example response = {\"remainingTime\":528,\"TheDataIsMostRecent\":true}\n\t         */\n\t        SessionHandler.prototype.handleStateResponse = function (response) {\n\t            this.isPollingStarted = false;\n\t            this.userEventsOccurred = false;\n\t            notifications.dataFreshness(response.data);\n\t            // check badges from server\n\t            notifications.checkBages();\n\t            //if the response is a success, we know a valid session has now existed\n\t            this.validSessionExisted = true;\n\n\t            //reset consecutive fail count and clear offline warning (if any)\n\t            if (this.consecutiveFailCount >= config.maxConsecutiveFailCount) {\n\t                notifications.clearOfflineWarning();\n\t            }\n\t            this.consecutiveFailCount = 0;\n\n\t            //continue as normal or show timeout warning\n\t            var remaining = response.data.remainingTime * 1000;\n\t            if (remaining > config.startCountdown) {\n\t                //session is healthy\n\t                this.clearSessionWarning();\n\t            } else {\n\t                //session is running out\n\t                this.startSessionWarning(response.data.remainingTime);\n\t            }\n\t        };\n\n\t        /**\n\t         * Handle Session Errors\n\t         * @param {Object} error  Error Exception\n\t         */\n\t        SessionHandler.prototype.logError = function (error) {\n\t            log.error('SessionHandler: ', error);\n\t        };\n\n\t        /**\n\t         * Fetching fail processing\n\t         * @param {Object} error - response object which contains status code and\n\t         * error description\n\t         */\n\t        SessionHandler.prototype.handleNetworkError = function (error) {\n\t            error = error || {};\n\t            this.isPollingStarted = false;\n\n\t            if (this.validSessionExisted && error.status === 401) {\n\t                //if we get a 401 and a session has existed, its time to logout\\\n\t                this.sessionStorage.clear();\n\t                this.sessionStorage.setItem('launchpad.sessionExpired', 'true');\n\t                //important to stop polling before trying to log out.\n\t                this.clearSessionWarning(false, true);\n\t                this.logout();\n\t            } else if (error.status === 0 && error.statusText === 'timeout') {\n\t                //xhr timeout occurs, use consecutive timeouts to detect internet connections problems\n\t                this.consecutiveFailCount++;\n\t                if (this.consecutiveFailCount < config.maxConsecutiveFailCount) {\n\t                    //start counting consecutive failures, ping soon again\n\t                    this.clearSessionWarning(false, true);\n\t                    this.startPolling(1000);\n\t                } else {\n\t                    //consecutive failures, show a warning and resume normal pinging\n\t                    notifications.offlineWarning();\n\t                    this.startPolling();\n\t                }\n\t            } else if (error.status !== 401) {\n\t                //any other unexpected errors\n\t                this.logError('Unknown error Problem validating session: ' + error.statusText);\n\t                this.startPolling();\n\t            }\n\t        };\n\n\t        /**\n\t         * Logout function\n\t         */\n\t        SessionHandler.prototype.logout = function () {\n\t            var self = this;\n\t            return fetch(config.logoutUrl, {\n\t                method: 'POST',\n\t                headers: formHeaders\n\t            }).then(function (response) {\n\t                var status = parseInt(response.status, 10);\n\t                if (status >= 200 && status < 300 || status === 304) {\n\t                    // The response returns a document and could be displayed\n\t                    // e.g. document.documentElement.innerHTML = response.data;\n\t                    // but there is an issue with a link so a redirect is used\n\t                    // instead.\n\t                    window.location.href = config.redirectUrl;\n\t                } else {\n\t                    self.logError(response.message);\n\t                }\n\t            });\n\t        };\n\n\t        // small helper for warning start\n\t        function updateEstimatedTime(time, cb) {\n\t            //one less second remaining now (unless already 0)\n\t            time = time >= 1 ? time - 1 : 0;\n\t            //perform a ping immediately if we estimate that time has run out\n\t            if (time <= 1) {\n\t                cb();\n\t            }\n\t            return time;\n\t        }\n\n\t        /**\n\t         * Starts the session countdown warning\n\t         * @param {Number} estimatedSecondsLeft - countdown time\n\t         */\n\t        SessionHandler.prototype.startSessionWarning = function (estimatedSecondsLeft) {\n\t            //the time left is now decremented client side and it is possible it could become out of sync with the\n\t            //server. for this reason it is 'estimated'\n\t            var self = this;\n\t            if (!countdownInterval) {\n\t                //publishes a warning message every subsequent second\n\t                notifications.sessionWarning(estimatedSecondsLeft);\n\t                estimatedSecondsLeft = updateEstimatedTime(estimatedSecondsLeft, self.ping.bind(self));\n\t                countdownInterval = window.setInterval(function () {\n\t                    //inform other components of the impending doom.\n\t                    notifications.sessionWarning(estimatedSecondsLeft);\n\t                    estimatedSecondsLeft = updateEstimatedTime(estimatedSecondsLeft, self.ping.bind(self));\n\t                }, 1000);\n\t                self.startPolling();\n\t            }\n\t        };\n\n\t        /**\n\t         * Clears the current session warning (if any)\n\t         * @param {Boolean} reconfirmSession\n\t         * @param {Boolean} stopPinging\n\t         */\n\t        SessionHandler.prototype.clearSessionWarning = function (reconfirmSession, stopPinging) {\n\t            if (reconfirmSession) {\n\t                //the ping response will invoke this function again in the else block, clearing the timeout warning\n\t                this.ping(true);\n\t            } else {\n\t                if (countdownInterval) {\n\t                    window.clearInterval(countdownInterval);\n\t                    notifications.removeNotification();\n\t                    countdownInterval = null;\n\t                }\n\t                if (!stopPinging) {\n\t                    this.startPolling();\n\t                }\n\t            }\n\t        };\n\n\t        /*----------------------------------------------------------------*/\n\t        /* Expose configurable getInstance method\n\t        /*----------------------------------------------------------------*/\n\t        return {\n\t            getInstance: function getInstance(options) {\n\t                if (utils.isUndefined(instance)) {\n\t                    instance = new SessionHandler(options);\n\t                }\n\t                return instance;\n\t            }\n\t        };\n\t    }();\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/*global define */\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var bus = __webpack_require__(10);\n\n\t    exports.checkBages = function () {\n\t        bus.publish('lpBadgesGetItems');\n\t    };\n\n\t    exports.dataFreshness = function (data) {\n\t        var flagName = 'TheDataIsMostRecent';\n\t        var status = -1;\n\t        if (data && data.hasOwnProperty(flagName)) {\n\t            status = data[flagName] === 'false' || data[flagName] === false ? 1 : 0;\n\t        }\n\t        // check data freshness status and notify the system\n\t        bus.publish('lpDataFreshnessValidate', status);\n\t    };\n\n\t    //send pubsub message when we might be offline\n\t    exports.offlineWarning = function () {\n\t        bus.publish('launchpad.add-notification', {\n\t            notification: {\n\t                id: 'offline-warning',\n\t                level: 'WARNING',\n\t                message: 'Experiencing connectivity problems. Please check your internet connection',\n\t                closable: false\n\t            }\n\t        });\n\t    };\n\n\t    //pubsub message to clear notifications of offline problems\n\t    exports.clearOfflineWarning = function () {\n\t        bus.publish('launchpad.remove-notification', {\n\t            notification: {\n\t                id: 'offline-warning'\n\t            }\n\t        });\n\t    };\n\n\t    //pubsub message when session time is running out. most likely the notifications widget will subscribe to this\n\t    exports.sessionWarning = function (estimatedTime) {\n\t        bus.publish('launchpad.add-notification', {\n\t            notification: {\n\t                id: 'session-timeout',\n\t                level: 'WARNING',\n\t                timeLeft: estimatedTime,\n\t                message: 'Session is about to expire',\n\t                values: {\n\t                    secondsLeft: estimatedTime\n\t                },\n\t                closable: false,\n\t                links: [{\n\t                    rel: '/timeout/continue',\n\t                    uri: window.location.hash || '#'\n\t                }]\n\t            }\n\t        });\n\t    };\n\n\t    exports.removeNotification = function () {\n\t        bus.publish('launchpad.remove-notification', {\n\t            notification: {\n\t                id: 'session-timeout'\n\t            }\n\t        });\n\t    };\n\n\t    exports.afterTimeout = function (config) {\n\t        if (window.sessionStorage.getItem(config.sessionExpiredKey)) {\n\t            //wait til notifications are likely to have initialized. need a message queue here!\n\t            window.setTimeout(function () {\n\t                bus.publish('launchpad.add-notification', {\n\t                    notification: {\n\t                        id: 'session-expired',\n\t                        level: 'INFO',\n\t                        message: 'Your session has expired. Please login again.',\n\t                        closable: true\n\t                    }\n\t                });\n\t            }, config.notifyAfterTimeoutDuration || 5000);\n\t            window.sessionStorage.removeItem(config.sessionExpiredKey);\n\t        }\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : backbase-widget.js\n\t *  Description: Add Launchpad custom chrome support\n\t *  ----------------------------------------------------------------\n\t */\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var utils = __webpack_require__(5);\n\n\t    module.exports = function (chromes, portal) {\n\t        chromes = chromes || [];\n\t        var isChromesPref = function isChromesPref(pref) {\n\t            return pref.name === 'widgetChrome' && (!pref.inputType.options || pref.inputType.options.length === 0);\n\t        };\n\n\t        return {\n\t            handlers: {\n\t                'preferences-form': function preferencesForm(ev) {\n\t                    var widget = ev.detail.context;\n\t                    var prefs = portal.portalModel.filterPreferences(widget.model.preferences.array);\n\t                    ev.detail.customPrefsModel = utils.each(prefs, function (pref) {\n\t                        if (isChromesPref(pref)) {\n\t                            pref.inputType.name = 'select-one';\n\t                            pref.inputType.options = chromes;\n\t                        }\n\t                    });\n\t                }\n\t            }\n\t        };\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - New York\n\t *  Filename : get-widgets-info.js\n\t *  Description : Return a global function to check the\n\t *  widgets information used on the current page.\n\t *  ----------------------------------------------------------------\n\t */\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    var NS = __webpack_require__(2).NS;\n\t    var utils = __webpack_require__(5);\n\t    var Promise = __webpack_require__(11);\n\t    var fetch = __webpack_require__(12);\n\t    var global = window;\n\t    // @todo  use portal module, when ready\n\t    var portal = global.b$ && global.b$.portal;\n\n\t    function collectWidgets(rootNode, init) {\n\n\t        var widgets = [],\n\t            childWidgets;\n\n\t        if (init) {\n\t            for (var key in rootNode) {\n\t                childWidgets = collectWidgets(rootNode[key]);\n\t                widgets = widgets.concat(childWidgets);\n\t            }\n\t        } else if (rootNode.childNodes && rootNode.childNodes.length || rootNode['_children'] && rootNode['_children'].length) {\n\t            var children = (rootNode.childNodes || []).concat(rootNode['_children'] || []);\n\t            children.forEach(function (child) {\n\t                childWidgets = collectWidgets(child);\n\t                widgets = widgets.concat(childWidgets);\n\t            });\n\t        } else if (rootNode.tag === 'widget') {\n\t            widgets.push({\n\t                name: rootNode.extendedItemName,\n\t                version: 'x.x.x',\n\t                src: rootNode.originalItem.preferences.src.value.replace('$(contextRoot)', portal.config.serverRoot).replace('index.html', '')\n\t            });\n\t        }\n\n\t        // Filter unique and sort by name\n\t        return utils.chain(widgets).uniq('name').sortBy('name').value();\n\t    }\n\t    /**\n\t     * Expose to global namespace\n\t     *\n\t     * @return {[type]} [description]\n\t     */\n\t    global[NS].getWidgetsInfo = module.exports = function getWidgetsInfo() {\n\n\t        var all = global.b$.portal.portalModel.all;\n\t        var widgetsList = collectWidgets(all, true);\n\n\t        // Retrieve version information\n\t        var promises = widgetsList.map(function (item) {\n\t            return fetch(item.src + 'bower.json').then(function (response) {\n\t                item.version = response.data.version;\n\t            }, function () {\n\t                item.version = 'Can\\'t fetch bower.json';\n\t            });\n\t        });\n\n\t        Promise.all(promises).then(function () {\n\t            console.table(widgetsList);\n\t        });\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - New York\n\t *  Filename : create-module.js\n\t *  ----------------------------------------------------------------\n\t */\n\t/**\n\t * Create angular module\n\t * @param  {string} name Module name\n\t * @param  {array} deps Module dependencies\n\t * @return {object}      Angular module\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var NS = __webpack_require__(2).NS;\n\t    __webpack_require__(4); // angular from window, it doesn't export\n\t    var angular = window.angular;\n\t    /**\n\t     * Check if module with `name` exists.\n\t     * TODO: Make a better check using decorated version of the angular.module that would store registered modules.\n\t     * @param name {string}\n\t     * @returns {boolean}\n\t     */\n\t    var moduleRegistered = function moduleRegistered(name) {\n\t        try {\n\t            angular.module(name);\n\t        } catch (e) {\n\t            return false;\n\t        }\n\t        return true;\n\t    };\n\n\t    module.exports = function (name, deps) {\n\n\t        name = [NS, name].join('.');\n\n\t        var ngModule;\n\n\t        // Inject templates module only into widgets modules.\n\t        if (name.indexOf('widget-') > -1) {\n\n\t            var templatesModuleName = name + '.templates';\n\n\t            if (moduleRegistered(templatesModuleName)) {\n\n\t                deps.push(templatesModuleName);\n\n\t                // Create templateCacheInjector service\n\t                ngModule = angular.module(name, deps);\n\n\t                // @ngInject\n\t                ngModule.factory('templateCacheInjector', function ($templateCache, lpCoreTemplate) {\n\t                    return {\n\t                        put: function put(key, value) {\n\t                            key = lpCoreTemplate.resolvePath(key);\n\t                            return $templateCache.put(key, value);\n\t                        }\n\t                    };\n\t                });\n\t            } else {\n\t                ngModule = angular.module(name, deps);\n\t            }\n\t        } else {\n\t            ngModule = angular.module(name, deps);\n\t        }\n\n\t        return ngModule;\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - Launchpad\n\t *  Filename : performance.js\n\t *  Description: Performance module\n\t *  ----------------------------------------------------------------\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    var NS = __webpack_require__(2).NS;\n\t    var bus = __webpack_require__(10);\n\t    var utils = __webpack_require__(5);\n\n\t    var DEFAULT_EVENTS = {\n\t        start: NS + '.performance.start',\n\t        end: NS + '.performance.end'\n\t    };\n\n\t    // ========================================\n\t    // Private helpers\n\t    // ========================================\n\t    /**\n\t     * Returns payload data for cxp.performance events\n\t     * according to passed params\n\t     * @param data {Object}\n\t     * @returns {Object}\n\t     * @private\n\t     */\n\t    function getPayload(data) {\n\t        var payload = {\n\t            operation: data.operation\n\t        };\n\n\t        // Id\n\t        if (data.id) {\n\t            payload.id = data.id;\n\t        }\n\n\t        // Sender\n\t        if (data.sender) {\n\t            payload.operation = '[' + data.sender + '] ' + payload.operation;\n\t        }\n\n\t        // Tags\n\t        if (data.tags && data.tags.length) {\n\t            payload.operation = payload.operation + ' | ' + JSON.stringify(data.tags);\n\t        }\n\n\t        return payload;\n\t    }\n\n\t    // ========================================\n\t    // Export\n\t    // ========================================\n\t    module.exports = function performanceFactory(params) {\n\t        params = utils.defaults(params || {}, {\n\t            bus: bus,\n\t            events: DEFAULT_EVENTS\n\t        });\n\n\t        return {\n\t            /**\n\t             * Starts a measurement of operation with given name.\n\t             * @param {String} name - Name of the measurement.\n\t             * @param {Object} data - Additional data.\n\t             * @param {String} data.id - Id of operation.\n\t             * @param {String} data.sender - Name of message sender.\n\t             * @param {Array}  data.tags - List of tags.\n\t             * @public\n\t             */\n\t            start: function start(name, data) {\n\t                data = data || {};\n\t                data.operation = name;\n\t                params.bus.publish(params.events.start, getPayload(data));\n\t            },\n\n\t            /**\n\t             * Stops a measurement of operation with given name.\n\t             * Note, that data passed to `end` method should be equal\n\t             * to data that was passed to `start` method.\n\t             * @param name {String} Name of the measurement\n\t             * @param {String} name - Name of the measurement.\n\t             * @param {Object} data - Additional data.\n\t             * @param {String} data.id - Id of operation.\n\t             * @param {String} data.sender - Name of message sender.\n\t             * @param {Array}  data.tags - List of tags.\n\t             * @public\n\t             */\n\t            end: function end(name, data) {\n\t                data = data || {};\n\t                data.operation = name;\n\t                params.bus.publish(params.events.end, getPayload(data));\n\t            }\n\t        };\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - New York\n\t *  Filename : require-widget.js\n\t *  Description:\n\t *  ----------------------------------------------------------------\n\t */\n\t(function (root, factory) {\n\t    'use strict';\n\n\t    if (( false ? 'undefined' : _typeof(exports)) === 'object') {\n\t        module.exports = factory();\n\t    } else {\n\t        root.requireWidget = factory();\n\t    }\n\t})(undefined, function () {\n\t    'use strict';\n\n\t    function trim(str) {\n\t        if (String.prototype.trim) {\n\t            return str.trim();\n\t        }\n\t        var rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\t        return str.replace(rtrim, '');\n\t    }\n\n\t    function isFunction(func) {\n\t        return typeof func === 'function';\n\t    }\n\t    function isObject(obj) {\n\t        return (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && !(obj instanceof Array);\n\t    }\n\t    function isAngularObject(obj) {\n\t        return isObject(obj) && typeof obj['_invokeQueue'] !== 'undefined';\n\t    }\n\n\t    // converts module path relative to it's index.html to path relative to portal's static dir\n\t    function normalizePath(rootPath, staticPath, path) {\n\t        try {\n\t            path = trim(path);\n\t            // remove .js from the module path if path is not absolute\n\t            var isAbsolute = new RegExp('^((https?|file)://|/)', 'i');\n\t            if (!isAbsolute.test(path)) {\n\t                path = path.replace(/.js$/, '');\n\t            }\n\t            path = rootPath\n\t            // remove slashes from the end of path\n\t            .replace(/[^\\/]*$/, '')\n\t            // remove static dir from absolute path\n\t            .replace(new RegExp('^' + staticPath), '') + path;\n\t        } catch (err) {\n\t            console.log('Error while normalizing module path.');\n\t            throw err;\n\t        }\n\t        return path;\n\t    }\n\n\t    function addClass(el, className) {\n\t        if (el.classList) {\n\t            el.classList.add(className);\n\t        } else {\n\t            el.className += ' ' + className;\n\t        }\n\t    }\n\t    function removeClass(el, className) {\n\t        if (el.classList) {\n\t            el.classList.remove(className);\n\t        } else {\n\t            el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n\t        }\n\t    }\n\n\t    function addLoadingClass(widgetInstance) {\n\t        var widgetLoadingClass = 'lp-widget-loading';\n\t        var el = widgetInstance.body;\n\n\t        widgetInstance.loading = function (className) {\n\t            widgetLoadingClass = className || widgetLoadingClass;\n\t            addClass(el, widgetLoadingClass);\n\t        };\n\t        widgetInstance.loaded = function (doneClass) {\n\t            removeClass(el, widgetLoadingClass);\n\t            if (typeof doneClass === 'string') {\n\t                addClass(el, doneClass);\n\t            }\n\t        };\n\t    }\n\n\t    var xsrf = function () {\n\t        var requestHeaderName = 'X-BBXSRF';\n\t        var cookieName = 'BBXSRF';\n\n\t        return {\n\t            getToken: getToken,\n\t            getRequestHeaderName: getRequestHeaderName,\n\t            getCookieName: getCookieName,\n\t            getFieldName: getCookieName\n\t        };\n\n\t        function getToken() {\n\t            var value = '; ' + document.cookie,\n\t                parts = '',\n\t                cookie = getCookieName();\n\n\t            parts = value.split('; ' + cookie + '=');\n\t            if (parts.length == 2) {\n\t                var token = parts.pop().split(';').shift();\n\t                return token;\n\t            }\n\t            return undefined;\n\t        }\n\n\t        function getCookieName() {\n\t            return cookieName;\n\t        }\n\n\t        function getRequestHeaderName() {\n\t            return requestHeaderName;\n\t        }\n\t    }();\n\n\t    window.launchpad = window.launchpad || {};\n\t    window.launchpad.xsrf = xsrf;\n\n\t    enableXsrfTokenPrefilter();\n\n\t    return function (widgetInstance, modulePath) {\n\t        var requirejs = window.requirejs;\n\t        // works only if requirejs is available\n\t        if (isFunction(requirejs)) {\n\t            var myDef = widgetInstance.myDefinition;\n\t            modulePath = normalizePath(myDef ? myDef.sUrl : '', // root(from /) path to the widget's index.html\n\t            requirejs.s.contexts._.config.baseUrl, // path to the portals static dir\n\t            modulePath);\n\n\t            addLoadingClass(widgetInstance);\n\n\t            requirejs([modulePath], function (widgetModule) {\n\n\t                // when widget module exports function\n\t                if (isFunction(widgetModule)) {\n\n\t                    widgetModule.call(null, widgetInstance);\n\n\t                    // when widget module exports angular module\n\t                } else if (isAngularObject(widgetModule)) {\n\n\t                        requirejs(['angular', 'core'], function (ng) {\n\t                            // @ngInject - preconfigure module core services\n\t                            widgetModule.config(function (lpCoreWidgetProvider, lpCoreI18nProvider, lpCoreTemplateProvider) {\n\t                                lpCoreWidgetProvider.useWidgetInstance(widgetInstance);\n\t                                lpCoreI18nProvider.useWidgetInstance(widgetInstance);\n\t                                lpCoreTemplateProvider.useWidgetInstance(widgetInstance);\n\t                            });\n\n\t                            enableXsrfTokenInterceptor(widgetModule);\n\t                            ng.bootstrap(widgetInstance.body || widgetInstance, [widgetModule.name]);\n\t                        });\n\n\t                        // when widget module exports object\n\t                    } else if (isObject(widgetModule)) {\n\n\t                            // Call if you find an init function\n\t                            if (isFunction(widgetModule.run)) {\n\t                                if (typeof widgetInstance === 'string') {\n\t                                    if (typeof window.jQuery !== 'undefined') {\n\t                                        widgetInstance = window.jQuery(widgetInstance);\n\t                                    } else {\n\t                                        widgetInstance = window.document.querySelectorAll(widgetInstance);\n\t                                    }\n\t                                }\n\t                                widgetModule.run.call(null, widgetInstance);\n\t                            }\n\t                        }\n\t            });\n\t        }\n\t    };\n\n\t    /**\n\t     * Configure the AngularJS $http service to add XSRF token to outgoing requests\n\t     *\n\t     * @param {Module} app - An angular module\n\t     * @param {Function()<string>} xsrfToken - A nullary function that returns the xsrf token\n\t     * @param {Object} xsrfOptions - An object containing the requestHeader key\n\t     * @return void\n\t     */\n\t    function enableXsrfTokenInterceptor(app) {\n\t        app.config(['$httpProvider', function ($httpProvider) {\n\t            $httpProvider.interceptors.push(function () {\n\t                return {\n\t                    request: addXsrfHeader\n\t                };\n\t            });\n\t        }]);\n\n\t        /**\n\t         * Add XSRF header to outgoing $http requests\n\t         *\n\t         * @param {object} xhrOptions - options object passed to $http call\n\t         * @return {object|promise<object>}\n\t         */\n\t        function addXsrfHeader(xhrOptions) {\n\t            if (xhrOptions.xsrf !== false && xhrOptions.method !== 'GET') {\n\t                xhrOptions.headers[xsrf.getRequestHeaderName()] = xsrf.getToken();\n\t            }\n\t            return xhrOptions;\n\t        }\n\t    }\n\n\t    /**\n\t     * Add a jQuery.ajax prefilter to automatically insert the XSRF token in outgoing requests\n\t     *\n\t     * @param {Function()<string>} xsrfToken - A nullary function that returns the xsrf token\n\t     * @param {Object} xsrfOptions - Configuration containing requestHeader key\n\t     * @return void\n\t     */\n\t    function enableXsrfTokenPrefilter() {\n\t        if (!window.jQuery) {\n\t            return;\n\t        }\n\n\t        window.jQuery.ajaxPrefilter(function (xhrOptions, original, xhr) {\n\t            if (xhrOptions.xsrf === false || xhrOptions.type.toUpperCase() === 'GET') {\n\t                return;\n\t            }\n\n\t            // set xsrf request header\n\t            xhr.setRequestHeader(xsrf.getRequestHeaderName(), xhrOptions.xsrf || xsrf.getToken());\n\t        });\n\t    }\n\t});\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** scripts/main.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 20a64e2265f577734ba1\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : main.js\n *  Description: Base library for creating Launchpad components/widgets/modules\n *  ----------------------------------------------------------------\n */\ndefine(function(require, exports, module) {\n\n    'use strict';\n\n    var config = require('./config'); /// Launchpad configuration\n    var global = window;\n    var NS = config.NS;\n    // Create the global launchpad object is doesn't exists\n    global[NS] = global[NS] || {};\n    /*----------------------------------------------------------------*/\n    /* Launchpad NameSpace\n    /*----------------------------------------------------------------*/\n    exports.NS = NS;\n    /*----------------------------------------------------------------*/\n    /* 3rd parties\n    /*----------------------------------------------------------------*/\n    exports.$ = require('jquery'); // @todo export $.noConflict();\n    require('angular');// angular from window, it doesn't export\n    exports.ng = window.angular; // export angular\n\n    /*----------------------------------------------------------------*/\n    /* Modules\n    /*----------------------------------------------------------------*/\n    exports.utils = require('./modules/utils/main'); // lodash + custom utils;\n    exports.bus = require('./modules/bus/main');\n    exports.Promise = require('./modules/async/Promise');\n    exports.fetch = require('./modules/async/fetch');\n    exports.log = require('./modules/log/main');\n    exports.error = require('./modules/error/main');\n    exports.queue = require('./modules/queue/main');\n    exports.notification = require('./modules/notifications/main');\n\n   /*----------------------------------------------------------------*/\n   /* Extensions\n   /*----------------------------------------------------------------*/\n    exports.Widget = require('./modules/b$-extension/widget');\n    exports.portal = require('./modules/portal/portal');\n\n    /*----------------------------------------------------------------*/\n    /* Public utility libraries\n    /*----------------------------------------------------------------*/\n    exports.startPortal = require('./libs/start-portal');\n    exports.getWidgetsInfo = require('./libs/get-widgets-info');\n    exports.createModule = require('./libs/create-module');\n    exports.performance = require('./modules/performance/performance');\n\n    /*----------------------------------------------------------------*/\n    /* Helpers\n    /*----------------------------------------------------------------*/\n    exports.requireWidget = global.requireWidget || require('./require-widget');\n\n    /*----------------------------------------------------------------*/\n    /* Angular related functions\n    /*----------------------------------------------------------------*/\n     /**\n     * Angular Boostrap alias\n     * @param  {HTMLElement} el   DOM element\n     * @param  {Array} deps angular dependencies\n     * @todo move to the ng module\n     * @example\n     * base.bootstrap( DOMNODE, [angular, dependencies])\n     * @return {object}\n     */\n\n    exports.bootstrap = function(el, deps) {\n        return exports.ng.bootstrap(el, deps);\n    };\n    /**\n     * Angular DI helper\n     * @param  {string} lib    Recuired library\n     * @param  {string} moduleName Module name default is ng\n     * @example\n     * <pre>\n     *    var utils = base.inject('lpCoreUtils', require('core').name);\n     *    var fetch = base.inject('$http');\n     * </pre>\n     * @return {object}        Required library\n     * @todo move to the ng module\n     */\n    exports.inject = function(lib, moduleName) {\n        var deps = ['ng'];\n        if(!exports.utils.isEmpty(moduleName)){\n            // get angular default module\n            deps.push(moduleName);\n        }\n        return exports.ng.injector(deps).get(lib);\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/main.js\n **/","/**\n * Launchpad global configuration file\n * @param  {[type]} require [description]\n * @param  {[type]} exports [description]\n * @param  {String} module) {                    exports.NS [description]\n * @return {[type]}         [description]\n */\ndefine(function(require, exports, module) {\n    'use strict';\n     // global Namespace and modules / widgets namespace\n    exports.NS = 'launchpad';\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/config.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jquery\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"angular\"\n ** module id = 4\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n\n    'use strict';\n\n    var _ = require('lodash').noConflict();\n\n    _.mixin(require('./is'));\n    _.mixin(require('./portal'));\n    _.mixin(require('./migrate'));\n    //_.mixin(require('./ng'));\n\n    module.exports = _;\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/utils/main.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"lodash\"\n ** module id = 6\n ** module chunks = 0\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : is.js\n *  Description: Checking utilities.\n *  ----------------------------------------------------------------\n */\ndefine(function(require, exports, module) {\n\n    'use strict';\n\n    var _ = require('lodash');\n    var NS = require('../../config').NS;\n    var global = window;\n    /**\n     * Check and return true if mobile device/mobile SDK is detected or return false otherwise\n     * @return {Boolean}\n     */\n    exports.isMobileDevice = function() {\n        //return true if mobile SDK is present\n        if (global[NS].mobileSDK) {\n            return true;\n        }\n\n        var deviceTypes = [\n            /iPhone|iPad|iPod/i,\n            /Android/i,\n            /BlackBerry/i,\n            /Opera Mini/i,\n            /IEMobile/i,\n            /MeeGo/i\n        ];\n\n        for (var i = 0, l = deviceTypes.length; i < l; i++) {\n            if (navigator.userAgent.match(deviceTypes[i])) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    /**\n     * Check if b$ is available and is not mocked\n     * @return {Boolean}\n     * @todo remove b$.bdom check after b$.isMocked as flag is added on all b$'s mock libs\n     */\n    exports.isb$Mocked = function() {\n        var b$ = global.b$;\n        return _.isUndefined(b$)\n                || Boolean(b$.isMocked) === true\n                || _.isUndefined(b$.bdom);\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/utils/is.js\n **/","define(function(require, exports, module) {\n    'use strict';\n\n    var _ = require('lodash');\n\n    /**\n     * Replace all portal placeholders\n     * @param  {string} string Template used\n     * @return {string}        Resolved string\n     * @todo\n     *     - pass in the resolver as well so is more flexible\n     *     - move to portal module as utility\n     */\n    exports.resolvePortalPlaceholders = function(string) {\n        var replaceWith = _.get(window, 'b$.portal.config.serverRoot', '');\n        if ( _.isString(string) ) {\n            var replacements = [\n                '$(contextRoot)',\n                '$(contextPath)',\n                '$(servicesPath)'\n            ];\n            string = _.reduce(replacements, function(str, replace) {\n                return str.replace(replace, replaceWith);\n            }, string);\n        }\n        return string;\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/utils/portal.js\n **/"," define(function(require, exports, module) {\n\n    'use strict';\n\n    var _ = require('lodash');\n\n    /**\n     * use to warn for deprecated methods\n     * @return console warn and calls the aliased function\n     */\n    exports.deprecate = function(fn, tpl, data) {\n\n        var NODEP = window.launchpad && window.launchpad.config && window.launchpad.config.usemin;\n        if (NODEP) {\n            return fn;\n        }\n\n        var warned = false;\n\n        function warn(msg) {\n            var compiled = _.template(msg);\n            var c = window.console;\n            var warning = compiled(data);\n\n            if (!warned && _.isObject(c) ) {\n                c.warn(warning);\n                warned = true;\n            }\n        }\n\n        function deprecated() {\n            warn(tpl);\n            return fn.apply(this, arguments);\n        }\n\n        return (_.isString(fn) || !NODEP) ? warn(fn) : deprecated;\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/utils/migrate.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : bus.js\n *  Description:\n *  ----------------------------------------------------------------\n */\ndefine(function(require, exports, module) {\n\n    'use strict';\n    /*----------------------------------------------------------------*/\n    /* Use b$ window.gadgets.pubsub\n    /*----------------------------------------------------------------*/\n    module.exports = window.gadgets && window.gadgets.pubsub || {\n        publish: function() {},\n        subscribe: function() {}\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/bus/main.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : Promise.js\n *  Description:\n *  ----------------------------------------------------------------\n */\ndefine(function(require, exports, module) {\n    'use strict';\n\n    require('angular'); // angular from window, it doesn't export\n    var angular = window.angular;\n    /**\n     * Use native Promise or angular $q Service\n     */\n    module.exports = window.Promise || function($q) {\n            var P = angular.extend(function(resolver) {\n                var deferred = $q.defer();\n                resolver(deferred.resolve, deferred.reject);\n                return deferred.promise;\n            }, $q);\n\n            P.resolve = function(data) {\n                return $q.when(data);\n            };\n\n            return P;\n        }(angular.injector(['ng']).get('$q'));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/async/Promise.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : fetch.js\n *  Description:\n *  ----------------------------------------------------------------\n */\ndefine(function(require, exports, module) {\n    'use strict';\n\n    require('angular'); // angular from window, it doesn't export\n    var angular = window.angular;\n    var xsrf = (function () {\n        var requestHeaderName = 'X-BBXSRF';\n        var cookieName = 'BBXSRF';\n\n        return {\n            getToken: getToken,\n            getRequestHeaderName: getRequestHeaderName\n        };\n\n        function getToken () {\n            var value = '; ' + document.cookie,\n                parts = '',\n                cookie = getCookieName();\n\n            parts = value.split('; ' + cookie + '=');\n            if (parts.length == 2) {\n                var token = parts.pop().split(';').shift();\n                return token;\n            }\n            return undefined;\n        }\n\n        function getCookieName () {\n            return cookieName;\n        }\n\n        function getRequestHeaderName () {\n            return requestHeaderName;\n        }\n    }());\n\n\n    /**\n     * Use Angular $http Service\n     */\n    module.exports = (function(http) {\n        return function(url, options) {\n            options = (typeof url === 'object' ? url : options) || {};\n            if (options.xsrf !== false && options.method && options.method.toUpperCase() !== 'GET') {\n                options.headers = options.headers || {};\n                options.headers[xsrf.getRequestHeaderName()] = xsrf.getToken();\n            }\n\n            return http(angular.extend({\n                url: url,\n                method: 'get',\n                responseHeaders: {\n                    'cache-control': 'no-cache' // for old IE\n                }\n            }, options));\n        };\n    })(angular.injector(['ng']).get('$http'));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/async/fetch.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : main.js\n *  Description: Logging system\n *  ----------------------------------------------------------------\n */\ndefine(function(require, exports, module) {\n    'use strict';\n\n    require('angular'); // angular from window, it doesn't export\n    var angular = window.angular;\n    /**\n     * Use Angular $log Service\n     */\n    module.exports = angular.injector(['ng']).get('$log');\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/log/main.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : handler.js\n *  Description:\n *  ----------------------------------------------------------------\n */\ndefine(function(require, exports, module) {\n    'use strict';\n\n    /**\n     * @todo move lpCoreError API here;\n     */\n    exports.captureException = function (error, options) {\n\n    };\n     /**\n     * Creates a custom Error Exception\n     * @param   {String} name  Exception name\n     * @returns {Object}       ErrorCustomException constructor\n     */\n    exports.createException = function(name) {\n        function ErrorException(message) {\n            this.name = name || 'Error';\n            this.message = message || 'Unknown Message';\n        }\n\n        ErrorException.prototype = new Error();\n        ErrorException.prototype.constructor = ErrorException;\n\n        return ErrorException;\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/error/main.js\n **/","/**\n * Retry queue of actions.\n *\n * @copyright Backbase B.V.\n * @author Backbase R&D - Amsterdam - Launchpad\n *\n * @name retry\n * @memberof base\n */\n/* eslint no-underscore-dangle:0 */\ndefine(function(require, exports, module) {\n\n    'use strict';\n\n    var Promise = require('../async/Promise');\n\n    var service = {\n        __onPushCallbacks: []\n    };\n    var queue = [];\n\n    service.queue = queue;\n\n    function filterByContext(contextId) {\n        var index = 0,\n            keep = [];\n        while(index < queue.length) {\n            if (queue[index].contextId === contextId) {\n                keep.push(queue.splice(index, 1)[0]);\n            } else {\n                index++;\n            }\n        }\n        return keep;\n    }\n\n    /**\n     *\n     * @param method {String} Name of the task to run, either \"retry\" or \"cancel\".\n     * @param [contextId] {String} contextId of the task to run.\n     * @return {Promise}\n     */\n    function dequeue(method, contextId) {\n\n        var allTasks = [],\n            filteredQueue = contextId ? filterByContext(contextId) : queue;\n\n        // Special \"clear\" name is used to simply drop queue tasks without either canceling or retrying.\n        // It is used in case of retring context when only the first retryObject is actually retried and the\n        // rest is cleared in case of success.\n        if (method === 'clear') {\n            filteredQueue.length = 0;\n        } else {\n            while (filteredQueue.length) {\n                allTasks.push(filteredQueue.shift()[method]());\n            }\n        }\n\n        return Promise.all(allTasks);\n    }\n\n    service.__runPushCallbacks = function(context, retryObject) {\n        service.__onPushCallbacks.forEach(function(callback) {\n            callback(context, retryObject);\n        });\n    };\n\n    service.push = function(context, retryFunction) {\n\n        return new Promise(function(resolve, reject) {\n\n            // Push new retry item to the stack\n            var retryObject = {\n                contextId: context.contextId,\n                retry: function() {\n                    return Promise.resolve(retryFunction()).then(resolve, reject);\n                },\n                cancel: reject\n            };\n\n            // Push in queue and trigger onPush event\n            queue.push(retryObject);\n            service.__runPushCallbacks(context, retryObject);\n        });\n    };\n\n    service.hasMore = function() {\n        return queue.length > 0;\n    };\n\n    service.onPush = function(callback) {\n        service.__onPushCallbacks.push(callback);\n    };\n\n    /**\n     * Retry all same context queue callbacks one more time.\n     * @param retryObject {Object} Task object to retry.\n     */\n    service.retry = function(retryObject) {\n        return retryObject.retry().then(function() {\n            return dequeue('clear', retryObject.contextId);\n        });\n    };\n\n    /**\n     * Clear all tasks in queue or same context tasks.\n     * @param retryObject {Object} Task object to retry.\n     */\n    service.cancel = function(retryObject) {\n        return dequeue('cancel', retryObject.contextId);\n    };\n\n    module.exports = service;\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/queue/main.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : main.js\n *  Description:\n *   Notifications to low-level events like errors, offline notifications, etc.\n *  ----------------------------------------------------------------\n */\n\ndefine(function(require, exports, module) {\n    'use strict';\n\n    // network notifications handlers\n    exports.network = require('./network');\n    // user actions notifications\n    exports.userActivity = require('./user-activity');\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/notifications/main.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : network.js\n *  Description: Network global subscription events\n *  ----------------------------------------------------------------\n */\ndefine(function(require, exports, module) {\n\n    'use strict';\n\n    var $ = require('jquery');\n    var NS = require('../../config').NS;\n    var bus = require('../bus/main');\n    var utils = require('../utils/main');\n    var events = {\n        offline: NS + '.network.offline',\n        online: NS + '.network.online'\n    };\n\n\n    function handleOffline(data) {\n        bus.publish('launchpad.add-notification', utils.merge({\n            notification: {\n                container: {\n                    template: 'templates/offline.html'\n                },\n                id: 'offline-notification',\n                level: 'info',\n                message: 'Network connection has been lost.',\n                closable: true\n            }\n        }, data));\n    }\n\n    function handleOnline() {\n        bus.publish('launchpad.remove-notification', {\n            notification: {\n                id: 'offline-notification'\n            }\n        });\n    }\n\n    /**\n     * Initialization\n     * @return {*}\n     */\n    module.exports = function() {\n        /**\n        * Online & offline\n        * https://developer.mozilla.org/en/docs/Online_and_offline_events\n        */\n        $(window)\n            .on('offline', handleOffline)\n            .on('online', handleOnline);\n\n        /**\n         * In case of mobile platform offline event will be handed by SDK.\n         */\n        bus.subscribe(events.offline, handleOffline);\n        bus.subscribe(events.online, handleOnline);\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/notifications/network.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : user-activity.js\n *  Description: User actions global subscription events\n *  ----------------------------------------------------------------\n */\ndefine(function(require, exports, module) {\n\n    'use strict';\n\n    var $ = require('jquery');\n    var NS = require('../../config').NS;\n    var bus = require('../bus/main');\n    var events = {\n        userActivity: NS + '.user.activity'\n    };\n\n    function notifyOnActivity() {\n        bus.publish(events.userActivity);\n    }\n\n    /**\n     * Initialization\n     * @return {*}\n     */\n    module.exports = function() {\n        $(document).on('click keypress', notifyOnActivity);\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/notifications/user-activity.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : backbase-widget.js\n *  Description: Extending BackbaseWidget Class\n *  ----------------------------------------------------------------\n */\n\n /* eslint-disable */\ndefine(function(require, exports, module) {\n\n    'use strict';\n    var utils = require('../utils/main');\n    var global = window;\n    var b$ = global.b$;\n\n    if( utils.isb$Mocked() ) { return false; } // running in standalone mode\n\n    var NS = global.b$.bdom.getNamespace('http://backbase.com/2013/portalView');\n    var BackbaseWidget = module.exports = NS.getClass('backbaseWidget');\n    /**\n     * Overrides widget default buildDisplay to postpone actual displaying for launcher container tab style widgets\n     * @param {Boolean} forceDisplay prevents the display from postponement mechanism working. Use this, when the\n     *                               widget should actually be displayed\n     */\n\n    BackbaseWidget.prototype.createDisplay = function(forceDisplay) {\n\n        this._displayed = this._displayed || forceDisplay;\n\n        //boolean expr to check if we should postpone displaying (until the tab is clicked)\n        var postponeDisplay =\n            !bd.designMode && // Disable lazy loading in Portal Manager\n            !this._displayed && //not already displayed\n            this.parentNode.tagName === 'LauncherContainer' && //parent is a launcher\n            (this.getPreference('area') === '2' || this.getPreference('area') === '3') && //its in the launcher sidebar\n            this.getPreference('widgetChrome').indexOf('chrome-tab') > -1; //it has a tab chrome\n\n        if(!postponeDisplay) {\n            this._displayed = true;\n            this.constructor.superClass.prototype.createDisplay.call(this);\n        }\n    };\n\n    BackbaseWidget.prototype.getPreferenceFromParents = function(name) {\n\n        var getPreference = function(name, node) {\n            var val;\n            if(node.getPreference && node.tagName !== 'application') {\n                val = node.getPreference(name);\n                if(!val && node.parentNode) {\n                    val = getPreference(name, node.parentNode);\n                }\n            }\n            return val;\n        };\n\n        return getPreference(name, this);\n    };\n\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/b$-extension/widget.js\n **/","define(function(require, exports, module) {\n\n    'use strict';\n\n    module.exports = function() {\n\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/portal/portal.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : start-portal.js\n *  Description: Start portal\n *      - get the portal preferences and\n *      - initialize session timeout handler\n *  ----------------------------------------------------------------\n *  @todo - connect Session options with portal preferences\n *  @todo - use base modules like (utils, portal, page)\n */\n\ndefine(function(require, exports, module) {\n\n    'use strict';\n\n    var utils = require('../modules/utils/main');\n    var fetch = require('../modules/async/fetch');\n    var Session = require('../modules/session/session-handler');\n    var Widget = require('../modules/b$-extension/widget');\n    var preferencesForm = require('../modules/b$-extension/preferences-form');\n    var notifications = require('../modules/notifications/main');\n    var $ = require('jquery');\n\n    // @TODO replace with a parser form utils\n    var parseXml = function(xml) {\n        var oldXmlParser = window.be && window.be.xmlToJson;\n        return oldXmlParser({xml: xml});\n    };\n\n    /**\n     * Start Launchpad portal\n     * @param  {object} portalDomModel b$-DomModel\n     * @param  {object} portal         Portal configuration\n     * @return {object}                Promise object\n     */\n   module.exports = function StartPortal(portalDomModel, portal) {\n         // @TODO replace with page module\n         // @TODO get logout URL from portal preferences\n        var page = portal.portalView.getElementsByTagName('page')[0];\n        var initSession = function(portalPref) {\n            var options = {\n                logoutUrl: portalPref.serverRoot + '/j_spring_security_logout?portalName=' + portal.portalName,\n                redirectUrl: portalPref.serverRoot + portalPref.defaultLandingPage,\n                sessionUrl: portalPref.sessionEndpoint,\n                pingUrl: portalPref.sessionValidateEndpoint,\n                startCountdown: portalPref.startCountdownAt,\n                pingInterval: portalPref.sessionCheckInterval,\n                notifyAfterTimeoutDuration: portalPref.notifyAfterTimeoutDuration,\n                userLoggedIn: !!portal.loggedInUserId\n            };\n            if(JSON.parse(page.getPreference('enableTimeout') || false)) {\n                notifications.userActivity();\n                Session.getInstance(options).init();\n            }\n        };\n\n        /**\n         * fetch the portal preferences form the Rest API\n         * @todo use portal module\n         * @todo cache promise\n         */\n        var getPortalPreferences = function() {\n            var url = [ portal.config.serverRoot, 'portals', portal.portalName + '.xml?pc=false'].join('/');\n            var transformResponse = function(data) {\n                if(typeof data === 'string') {\n                    data = $.parseXML(data);\n                }\n                var jsonData = parseXml(data);\n                // Add it to portal.config\n                portal.config = utils.chain(jsonData.portal.properties)\n                        .mapValues('value')\n                        .mapKeys(function(v, k){\n                           return utils.camelCase(k);\n                        })\n                        .assign(portal.config)\n                        .value();\n                return portal.config;\n            };\n            return fetch({\n                url: url,\n                responseType: 'document',\n                transformResponse: transformResponse\n            }).then(function(response) {\n                return response.data;\n            });\n        };\n\n        /**\n         * Extend WidgetInstance with customChromes\n         * @todo get the chrome preferences from the portal preferences\n         * instead of uiEditingOptions\n         */\n        var addCustomChromes = function(portalPref) {\n            var uiConf = window.bd && window.bd.uiEditingOptions;\n            portalPref.chromes = uiConf && uiConf.widgetPreferenceSelections\n                            ? uiConf.widgetPreferenceSelections.widgetChrome //global widgetChromes\n                            : [];\n            utils.assign(Widget, preferencesForm(portalPref.chromes, portal));\n            return portalPref;\n        };\n\n        return getPortalPreferences(portal)\n                .then(addCustomChromes)\n                .then(initSession);\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/libs/start-portal.js\n **/","/**\n * Session timeout handling\n * Pings the session endpoint to determine session time remaining.\n * If less than 'startCountdownAt', a timeout warning is initiated.\n * If no time is left, automatic logout\n * User click and keyboard events revalidate the session on every ping, or immediately if the warning is active\n */\ndefine(function(require, exports, module) {\n\n    'use strict';\n\n    var utils = require('../utils/main');\n    var log = require('../log/main');\n    var fetch = require('../async/fetch');\n    var notifications = require('./session-notifications');\n    var NS = require('../../config').NS;\n    var bus = require('../bus/main');\n\n    var events = {\n        userActivity: NS + '.user.activity'\n    };\n\n    var formHeaders = {\n        'Accept': 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded'\n    };\n\n    /*----------------------------------------------------------------*/\n    /* Export Singleton session handler\n    /*----------------------------------------------------------------*/\n    module.exports = (function() {\n\n        var instance; // Session Handler instance\n        var config; // store the configuration options\n        var defaults = {\n            pingUrl: '$(servicesPath)/services/rest/v1/authentication/session',\n            logoutUrl: '$(contextRoot)/j_spring_security_logout',\n            keepAlive: true,\n            startCountdown: 60000,\n            notifyAfterInterval: 5000,\n            pingInterval: 30000,\n            sessionExpiredKey: 'launchpad.sessionExpired',\n            maxConsecutiveFailCount: 3,\n            userLoggedIn: false\n        };\n\n        var countdownInterval; // session notification countdown interval\n\n        /**\n         * Session handler\n         * @param {options} options Configuration\n         * @constructor\n         */\n        function SessionHandler(options) {\n            options = options || {};\n            config = utils.chain(options)\n                .defaults(defaults)\n                .mapValues(utils.resolvePortalPlaceholders)\n                .value();\n\n            this.sessionStorage = options.store || window.sessionStorage;\n            this.isPollingStarted = false;\n            this.hasSession = false;\n        }\n\n        /**\n         * Init Session Timeout\n         * @return {object} SessionHandler instance\n         */\n        SessionHandler.prototype.init = function() {\n            //determines if a valid session previously existed during this page load\n            this.validSessionExisted = false;\n            //records if a user event has occurred\n            this.userEventsOccurred = false;\n            //keeps track of consecutive ping fails. helps to detect internet connectivity problems\n            this.consecutiveFailCount = 0;\n\n            notifications.afterTimeout(config);\n\n            // If user is logged in enable session notifications\n            if (config.userLoggedIn) {\n                this.startPolling();\n            }\n            // adding \"Continue work\" button handler for notification\n            // and user activity handling\n            var self = this;\n            bus.subscribe(events.userActivity, function userEventsReceived() {\n                self.userEventsOccurred = true;\n                if(countdownInterval) {\n                    self.clearSessionWarning(true);\n                }\n            });\n        };\n\n        /**\n         * Start session polling\n         * @param {Number} interval defines delay before polling start\n         */\n        SessionHandler.prototype.startPolling = function(interval) {\n            window.setTimeout(this.ping.bind(this), interval || config.pingInterval);\n        };\n\n        /**\n         * Ping function\n         * @param {Boolean} reconfirm - flag to define if we have to refresh session or\n         * just check it\n         */\n        SessionHandler.prototype.ping = function(reconfirm) {\n            if (this.isPollingStarted) { return; }\n            this.isPollingStarted = true;\n\n            //decide which ping function to perform\n            this.makeSessionRequest.apply(this, reconfirm || this.userEventsOccurred\n                ? [ config.pingUrl, {method: 'PUT'} ]\n                : [ config.pingUrl + '/validate', {} ]\n            );\n        };\n\n        /**\n         * Fetch session data\n         * @param {Object} options - request configuration (URL, request method, etc)\n         */\n        SessionHandler.prototype.makeSessionRequest = function(url, options) {\n            fetch(url, options)\n                .then(this.handleStateResponse.bind(this), this.handleNetworkError.bind(this));\n        };\n\n        /**\n         * Response handling function\n         * @param {Object} responce - session request result. If request status\n         * is OK, it contains freshnessFlag and remaining time.\n         * @example response = {\"remainingTime\":528,\"TheDataIsMostRecent\":true}\n         */\n        SessionHandler.prototype.handleStateResponse = function(response) {\n            this.isPollingStarted = false;\n            this.userEventsOccurred = false;\n            notifications.dataFreshness(response.data);\n            // check badges from server\n            notifications.checkBages();\n            //if the response is a success, we know a valid session has now existed\n            this.validSessionExisted = true;\n\n            //reset consecutive fail count and clear offline warning (if any)\n            if(this.consecutiveFailCount >= config.maxConsecutiveFailCount) {\n                notifications.clearOfflineWarning();\n            }\n            this.consecutiveFailCount = 0;\n\n            //continue as normal or show timeout warning\n            var remaining = response.data.remainingTime * 1000;\n            if(remaining > config.startCountdown) {\n                //session is healthy\n                this.clearSessionWarning();\n            } else {\n                //session is running out\n                this.startSessionWarning(response.data.remainingTime);\n            }\n        };\n\n        /**\n         * Handle Session Errors\n         * @param {Object} error  Error Exception\n         */\n        SessionHandler.prototype.logError = function(error) {\n            log.error('SessionHandler: ', error);\n        };\n\n        /**\n         * Fetching fail processing\n         * @param {Object} error - response object which contains status code and\n         * error description\n         */\n        SessionHandler.prototype.handleNetworkError = function(error) {\n            error = error || {};\n            this.isPollingStarted = false;\n\n            if(this.validSessionExisted && error.status === 401) {\n                //if we get a 401 and a session has existed, its time to logout\\\n                this.sessionStorage.clear();\n                this.sessionStorage.setItem('launchpad.sessionExpired', 'true');\n                //important to stop polling before trying to log out.\n                this.clearSessionWarning(false, true);\n                this.logout();\n            } else if(error.status === 0 && error.statusText === 'timeout') {\n                //xhr timeout occurs, use consecutive timeouts to detect internet connections problems\n                this.consecutiveFailCount++;\n                if(this.consecutiveFailCount < config.maxConsecutiveFailCount) {\n                    //start counting consecutive failures, ping soon again\n                    this.clearSessionWarning(false, true);\n                    this.startPolling(1000);\n                } else {\n                    //consecutive failures, show a warning and resume normal pinging\n                    notifications.offlineWarning();\n                    this.startPolling();\n                }\n            } else if(error.status !== 401) {\n                //any other unexpected errors\n                this.logError('Unknown error Problem validating session: ' + error.statusText);\n                this.startPolling();\n            }\n        };\n\n        /**\n         * Logout function\n         */\n        SessionHandler.prototype.logout = function() {\n            var self = this;\n            return fetch(config.logoutUrl, {\n                method: 'POST',\n                headers: formHeaders\n            })\n            .then(function(response) {\n                var status = parseInt(response.status, 10);\n                if (status >= 200 && status < 300 || status === 304) {\n                    // The response returns a document and could be displayed\n                    // e.g. document.documentElement.innerHTML = response.data;\n                    // but there is an issue with a link so a redirect is used\n                    // instead.\n                    window.location.href = config.redirectUrl;\n                } else {\n                    self.logError(response.message);\n                }\n            });\n        };\n\n        // small helper for warning start\n        function updateEstimatedTime(time, cb) {\n            //one less second remaining now (unless already 0)\n            time = time >= 1 ? time - 1 : 0;\n            //perform a ping immediately if we estimate that time has run out\n            if(time <= 1) {\n                cb();\n            }\n            return time;\n        }\n\n        /**\n         * Starts the session countdown warning\n         * @param {Number} estimatedSecondsLeft - countdown time\n         */\n        SessionHandler.prototype.startSessionWarning = function(estimatedSecondsLeft) {\n            //the time left is now decremented client side and it is possible it could become out of sync with the\n            //server. for this reason it is 'estimated'\n            var self = this;\n            if(!countdownInterval) {\n                //publishes a warning message every subsequent second\n                notifications.sessionWarning(estimatedSecondsLeft);\n                estimatedSecondsLeft = updateEstimatedTime(estimatedSecondsLeft, self.ping.bind(self));\n                countdownInterval = window.setInterval(function() {\n                    //inform other components of the impending doom.\n                    notifications.sessionWarning(estimatedSecondsLeft);\n                    estimatedSecondsLeft = updateEstimatedTime(estimatedSecondsLeft, self.ping.bind(self));\n                }, 1000);\n                self.startPolling();\n            }\n        };\n\n        /**\n         * Clears the current session warning (if any)\n         * @param {Boolean} reconfirmSession\n         * @param {Boolean} stopPinging\n         */\n        SessionHandler.prototype.clearSessionWarning = function(reconfirmSession, stopPinging) {\n            if(reconfirmSession) {\n                //the ping response will invoke this function again in the else block, clearing the timeout warning\n                this.ping(true);\n            } else {\n                if(countdownInterval) {\n                    window.clearInterval(countdownInterval);\n                    notifications.removeNotification();\n                    countdownInterval = null;\n                }\n                if(!stopPinging) {\n                    this.startPolling();\n                }\n\n            }\n        };\n\n        /*----------------------------------------------------------------*/\n        /* Expose configurable getInstance method\n        /*----------------------------------------------------------------*/\n        return {\n            getInstance: function(options) {\n                if (utils.isUndefined(instance)) {\n                    instance = new SessionHandler(options);\n                }\n                return instance;\n            }\n        };\n    })();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/session/session-handler.js\n **/","/*global define */\n\ndefine(function(require, exports, module) {\n\n    'use strict';\n\n    var bus = require('../bus/main');\n\n    exports.checkBages = function() {\n        bus.publish('lpBadgesGetItems');\n    };\n\n    exports.dataFreshness = function(data) {\n        var flagName = 'TheDataIsMostRecent';\n        var status = -1;\n        if (data && data.hasOwnProperty(flagName)) {\n            status = (data[flagName] === 'false' || data[flagName] === false) ? 1 : 0;\n        }\n        // check data freshness status and notify the system\n        bus.publish('lpDataFreshnessValidate', status);\n    };\n\n    //send pubsub message when we might be offline\n    exports.offlineWarning = function() {\n        bus.publish('launchpad.add-notification', {\n            notification: {\n                id: 'offline-warning',\n                level: 'WARNING',\n                message: 'Experiencing connectivity problems. Please check your internet connection',\n                closable: false\n            }\n        });\n    };\n\n    //pubsub message to clear notifications of offline problems\n    exports.clearOfflineWarning = function() {\n        bus.publish('launchpad.remove-notification', {\n            notification: {\n                id: 'offline-warning'\n            }\n        });\n    };\n\n    //pubsub message when session time is running out. most likely the notifications widget will subscribe to this\n    exports.sessionWarning = function(estimatedTime) {\n        bus.publish('launchpad.add-notification', {\n            notification: {\n                id: 'session-timeout',\n                level: 'WARNING',\n                timeLeft: estimatedTime,\n                message: 'Session is about to expire',\n                values: {\n                    secondsLeft: estimatedTime\n                },\n                closable: false,\n                links: [{\n                    rel: '/timeout/continue',\n                    uri: window.location.hash || '#'\n                }]\n            }\n        });\n    };\n\n    exports.removeNotification = function() {\n        bus.publish('launchpad.remove-notification', {\n            notification: {\n                id: 'session-timeout'\n            }\n        });\n    };\n\n    exports.afterTimeout = function(config) {\n        if (window.sessionStorage.getItem(config.sessionExpiredKey)) {\n            //wait til notifications are likely to have initialized. need a message queue here!\n            window.setTimeout(function() {\n                bus.publish('launchpad.add-notification', {\n                    notification: {\n                        id: 'session-expired',\n                        level: 'INFO',\n                        message: 'Your session has expired. Please login again.',\n                        closable: true\n                    }\n                });\n            }, config.notifyAfterTimeoutDuration || 5000);\n            window.sessionStorage.removeItem(config.sessionExpiredKey);\n        }\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/session/session-notifications.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : backbase-widget.js\n *  Description: Add Launchpad custom chrome support\n *  ----------------------------------------------------------------\n */\n\ndefine(function(require, exports, module) {\n\n    'use strict';\n    var utils = require('../utils/main');\n\n    module.exports = function(chromes, portal) {\n        chromes = chromes || [];\n        var isChromesPref = function(pref) {\n            return pref.name === 'widgetChrome' && (!pref.inputType.options || pref.inputType.options.length === 0);\n        };\n\n        return {\n            handlers: {\n                'preferences-form': function (ev) {\n                    var widget = ev.detail.context;\n                    var prefs = portal.portalModel.filterPreferences(widget.model.preferences.array);\n                    ev.detail.customPrefsModel = utils.each(prefs, function(pref) {\n                            if(isChromesPref(pref)){\n                                pref.inputType.name = 'select-one';\n                                pref.inputType.options = chromes;\n                            }\n                        });\n                }\n            }\n        };\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/b$-extension/preferences-form.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - New York\n *  Filename : get-widgets-info.js\n *  Description : Return a global function to check the\n *  widgets information used on the current page.\n *  ----------------------------------------------------------------\n */\n\ndefine(function(require, exports, module) {\n    'use strict';\n\n    var NS = require('../config').NS;\n    var utils = require('../modules/utils/main');\n    var Promise = require('../modules/async/Promise');\n    var fetch = require('../modules/async/fetch');\n    var global = window;\n    // @todo  use portal module, when ready\n    var portal = global.b$ && global.b$.portal;\n\n    function collectWidgets(rootNode, init) {\n\n        var widgets = [],\n            childWidgets;\n\n        if (init) {\n            for (var key in rootNode) {\n                childWidgets = collectWidgets(rootNode[key]);\n                widgets = widgets.concat(childWidgets);\n            }\n        }\n        else if ((rootNode.childNodes && rootNode.childNodes.length) || (rootNode['_children'] && rootNode['_children'].length)) {\n            var children = (rootNode.childNodes || []).concat(rootNode['_children'] || []);\n            children.forEach(function(child) {\n                childWidgets = collectWidgets(child);\n                widgets = widgets.concat(childWidgets);\n            });\n        }\n        else if (rootNode.tag === 'widget') {\n            widgets.push({\n                name: rootNode.extendedItemName,\n                version: 'x.x.x',\n                src: rootNode.originalItem.preferences.src.value\n                    .replace('$(contextRoot)', portal.config.serverRoot)\n                    .replace('index.html', '')\n            });\n        }\n\n        // Filter unique and sort by name\n        return utils.chain(widgets).uniq('name').sortBy('name').value();\n    }\n    /**\n     * Expose to global namespace\n     *\n     * @return {[type]} [description]\n     */\n    global[NS].getWidgetsInfo = module.exports = function getWidgetsInfo() {\n\n        var all = global.b$.portal.portalModel.all;\n        var widgetsList = collectWidgets(all, true);\n\n        // Retrieve version information\n        var promises = widgetsList.map(function(item) {\n            return fetch(item.src + 'bower.json').then(function(response) {\n                item.version = response.data.version;\n            }, function() {\n                item.version = 'Can\\'t fetch bower.json';\n            });\n        });\n\n        Promise.all(promises).then(function() {\n            console.table(widgetsList);\n        });\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/libs/get-widgets-info.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - New York\n *  Filename : create-module.js\n *  ----------------------------------------------------------------\n */\n/**\n * Create angular module\n * @param  {string} name Module name\n * @param  {array} deps Module dependencies\n * @return {object}      Angular module\n */\ndefine(function(require, exports, module) {\n\n    'use strict';\n\n    var NS = require('../config').NS;\n    require('angular'); // angular from window, it doesn't export\n    var angular = window.angular;\n    /**\n     * Check if module with `name` exists.\n     * TODO: Make a better check using decorated version of the angular.module that would store registered modules.\n     * @param name {string}\n     * @returns {boolean}\n     */\n    var moduleRegistered = function(name) {\n        try {\n            angular.module(name);\n        }\n        catch (e) {\n            return false;\n        }\n        return true;\n    };\n\n    module.exports = function(name, deps) {\n\n        name = [NS, name].join('.');\n\n        var ngModule;\n\n        // Inject templates module only into widgets modules.\n        if (name.indexOf('widget-') > -1) {\n\n            var templatesModuleName = name + '.templates';\n\n            if (moduleRegistered(templatesModuleName)) {\n\n                deps.push(templatesModuleName);\n\n                // Create templateCacheInjector service\n                ngModule = angular.module(name, deps);\n\n                // @ngInject\n                ngModule.factory('templateCacheInjector', function($templateCache, lpCoreTemplate) {\n                    return {\n                        put: function(key, value) {\n                            key = lpCoreTemplate.resolvePath(key);\n                            return $templateCache.put(key, value);\n                        }\n                    };\n                });\n            }\n            else {\n                ngModule = angular.module(name, deps);\n            }\n        }\n        else {\n            ngModule = angular.module(name, deps);\n        }\n\n        return ngModule;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/libs/create-module.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - Launchpad\n *  Filename : performance.js\n *  Description: Performance module\n *  ----------------------------------------------------------------\n */\ndefine(function(require, exports, module) {\n    'use strict';\n\n    var NS = require('../../config').NS;\n    var bus = require('../bus/main');\n    var utils = require('../utils/main');\n\n    var DEFAULT_EVENTS = {\n        start: NS + '.performance.start',\n        end: NS + '.performance.end'\n    };\n\n    // ========================================\n    // Private helpers\n    // ========================================\n    /**\n     * Returns payload data for cxp.performance events\n     * according to passed params\n     * @param data {Object}\n     * @returns {Object}\n     * @private\n     */\n    function getPayload (data) {\n        var payload = {\n            operation: data.operation\n        };\n\n        // Id\n        if (data.id) {\n            payload.id = data.id;\n        }\n\n        // Sender\n        if (data.sender) {\n            payload.operation = '[' + data.sender + '] ' + payload.operation;\n        }\n\n        // Tags\n        if (data.tags && data.tags.length) {\n            payload.operation = payload.operation + ' | ' + JSON.stringify(data.tags);\n        }\n\n        return payload;\n    }\n\n    // ========================================\n    // Export\n    // ========================================\n    module.exports = function performanceFactory (params) {\n        params = utils.defaults(params || {}, {\n            bus: bus,\n            events: DEFAULT_EVENTS\n        });\n\n        return {\n            /**\n             * Starts a measurement of operation with given name.\n             * @param {String} name - Name of the measurement.\n             * @param {Object} data - Additional data.\n             * @param {String} data.id - Id of operation.\n             * @param {String} data.sender - Name of message sender.\n             * @param {Array}  data.tags - List of tags.\n             * @public\n             */\n            start: function (name, data) {\n                data = data || {};\n                data.operation = name;\n                params.bus.publish(params.events.start, getPayload(data));\n            },\n\n            /**\n             * Stops a measurement of operation with given name.\n             * Note, that data passed to `end` method should be equal\n             * to data that was passed to `start` method.\n             * @param name {String} Name of the measurement\n             * @param {String} name - Name of the measurement.\n             * @param {Object} data - Additional data.\n             * @param {String} data.id - Id of operation.\n             * @param {String} data.sender - Name of message sender.\n             * @param {Array}  data.tags - List of tags.\n             * @public\n             */\n            end: function (name, data) {\n                data = data || {};\n                data.operation = name;\n                params.bus.publish(params.events.end, getPayload(data));\n            }\n        };\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/modules/performance/performance.js\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - New York\n *  Filename : require-widget.js\n *  Description:\n *  ----------------------------------------------------------------\n */\n(function(root, factory) {\n    'use strict';\n    if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.requireWidget = factory();\n    }\n}(this, function() {\n    'use strict';\n\n    function trim(str) {\n        if (String.prototype.trim) {\n            return str.trim();\n        }\n        var rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n        return str.replace(rtrim, '');\n    }\n\n    function isFunction(func) {\n        return (typeof func === 'function');\n    }\n    function isObject(obj) {\n        return (typeof obj === 'object' && !(obj instanceof Array));\n    }\n    function isAngularObject(obj) {\n        return isObject(obj) && (typeof obj['_invokeQueue'] !== 'undefined');\n    }\n\n    // converts module path relative to it's index.html to path relative to portal's static dir\n    function normalizePath(rootPath, staticPath, path) {\n        try {\n            path = trim(path);\n            // remove .js from the module path if path is not absolute\n            var isAbsolute = new RegExp('^((https?|file)://|/)', 'i');\n            if (!isAbsolute.test(path)) {\n                path = path.replace(/.js$/, '');\n            }\n            path = rootPath\n                // remove slashes from the end of path\n                .replace(/[^\\/]*$/, '')\n                // remove static dir from absolute path\n                .replace(new RegExp('^' + staticPath), '') + path;\n        } catch (err) {\n            console.log('Error while normalizing module path.');\n            throw err;\n        }\n        return path;\n    }\n\n    function addClass(el, className) {\n        if (el.classList) {\n            el.classList.add(className);\n        } else {\n            el.className += ' ' + className;\n        }\n    }\n    function removeClass(el, className) {\n        if (el.classList) {\n            el.classList.remove(className);\n        } else {\n            el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n        }\n    }\n\n    function addLoadingClass(widgetInstance) {\n        var widgetLoadingClass = 'lp-widget-loading';\n        var el = widgetInstance.body;\n\n        widgetInstance.loading = function(className) {\n            widgetLoadingClass = (className || widgetLoadingClass);\n            addClass(el, widgetLoadingClass);\n        };\n        widgetInstance.loaded = function(doneClass) {\n            removeClass(el, widgetLoadingClass);\n            if (typeof doneClass === 'string') {\n                addClass(el, doneClass);\n            }\n        };\n    }\n\n    var xsrf = (function () {\n        var requestHeaderName = 'X-BBXSRF';\n        var cookieName = 'BBXSRF';\n\n        return {\n            getToken: getToken,\n            getRequestHeaderName: getRequestHeaderName,\n            getCookieName: getCookieName,\n            getFieldName: getCookieName\n        };\n\n        function getToken () {\n            var value = '; ' + document.cookie,\n                parts = '',\n                cookie = getCookieName();\n\n            parts = value.split('; ' + cookie + '=');\n            if (parts.length == 2) {\n                var token = parts.pop().split(';').shift();\n                return token;\n            }\n            return undefined;\n        }\n\n        function getCookieName () {\n            return cookieName;\n        }\n\n        function getRequestHeaderName () {\n            return requestHeaderName;\n        }\n    }());\n\n    window.launchpad = window.launchpad || {};\n    window.launchpad.xsrf = xsrf;\n\n    enableXsrfTokenPrefilter();\n\n    return function(widgetInstance, modulePath) {\n        var requirejs = window.requirejs;\n        // works only if requirejs is available\n        if (isFunction(requirejs)) {\n            var myDef = widgetInstance.myDefinition;\n            modulePath = normalizePath(\n                myDef ? myDef.sUrl : '', // root(from /) path to the widget's index.html\n                requirejs.s.contexts._.config.baseUrl, // path to the portals static dir\n                modulePath\n            );\n\n            addLoadingClass(widgetInstance);\n\n            requirejs([modulePath], function(widgetModule) {\n\n                // when widget module exports function\n                if (isFunction(widgetModule)) {\n\n                    widgetModule.call(null, widgetInstance);\n\n                // when widget module exports angular module\n                } else if (isAngularObject(widgetModule)) {\n\n                    requirejs(['angular', 'core'], function(ng) {\n                        // @ngInject - preconfigure module core services\n                        widgetModule.config(function(lpCoreWidgetProvider, lpCoreI18nProvider, lpCoreTemplateProvider){\n                            lpCoreWidgetProvider.useWidgetInstance(widgetInstance);\n                            lpCoreI18nProvider.useWidgetInstance(widgetInstance);\n                            lpCoreTemplateProvider.useWidgetInstance(widgetInstance);\n                        });\n\n                        enableXsrfTokenInterceptor(widgetModule);\n                        ng.bootstrap(widgetInstance.body || widgetInstance, [widgetModule.name]);\n                    });\n\n                // when widget module exports object\n                } else if (isObject(widgetModule)) {\n\n                    // Call if you find an init function\n                    if (isFunction(widgetModule.run)) {\n                        if (typeof widgetInstance === 'string') {\n                            if (typeof window.jQuery !== 'undefined') {\n                                widgetInstance = window.jQuery(widgetInstance);\n                            } else {\n                                widgetInstance = window.document.querySelectorAll(widgetInstance);\n                            }\n                        }\n                        widgetModule.run.call(null, widgetInstance);\n                    }\n                }\n            });\n        }\n    };\n\n    /**\n     * Configure the AngularJS $http service to add XSRF token to outgoing requests\n     *\n     * @param {Module} app - An angular module\n     * @param {Function()<string>} xsrfToken - A nullary function that returns the xsrf token\n     * @param {Object} xsrfOptions - An object containing the requestHeader key\n     * @return void\n     */\n    function enableXsrfTokenInterceptor(app) {\n        app.config(['$httpProvider', function ($httpProvider) {\n            $httpProvider.interceptors.push(function () {\n                return {\n                    request: addXsrfHeader\n                };\n            });\n        }]);\n\n        /**\n         * Add XSRF header to outgoing $http requests\n         *\n         * @param {object} xhrOptions - options object passed to $http call\n         * @return {object|promise<object>}\n         */\n        function addXsrfHeader(xhrOptions) {\n            if (xhrOptions.xsrf !== false && xhrOptions.method !== 'GET') {\n                xhrOptions.headers[xsrf.getRequestHeaderName()] = xsrf.getToken();\n            }\n            return xhrOptions;\n        }\n    }\n\n    /**\n     * Add a jQuery.ajax prefilter to automatically insert the XSRF token in outgoing requests\n     *\n     * @param {Function()<string>} xsrfToken - A nullary function that returns the xsrf token\n     * @param {Object} xsrfOptions - Configuration containing requestHeader key\n     * @return void\n     */\n    function enableXsrfTokenPrefilter() {\n        if (!window.jQuery) { return; }\n\n        window.jQuery.ajaxPrefilter(function(xhrOptions, original, xhr) {\n            if (xhrOptions.xsrf === false || xhrOptions.type.toUpperCase() === 'GET') {\n                return;\n            }\n\n            // set xsrf request header\n            xhr.setRequestHeader(xsrf.getRequestHeaderName(), xhrOptions.xsrf || xsrf.getToken());\n        });\n    }\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/require-widget.js\n **/"],"sourceRoot":""}